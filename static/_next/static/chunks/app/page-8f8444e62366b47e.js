(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2179:function(e,n,t){Promise.resolve().then(t.bind(t,8836))},8836:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var i=t(7437),l=t(345),a=t.n(l),s=t(2265),r=t(4971),o=t(1277),d=t(2649);function c(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";for(var a=0;a<e.length;a++)if(i){if(e[a][l]!==i&&e[a][t]===n)return a}else if(e[a][t]===n)return a;return -1}function x(e,n){for(var t=0,i=0;i<e;i++)t+=Math.floor(Math.random()*(n-1+1))+1;return t}function u(){let[e,n]=(0,s.useState)(500),[t,l]=(0,s.useState)(e),[u,m]=(0,s.useState)("gd"),[h,g]=(0,s.useState)(0),[j,b]=(0,s.useState)(5),[p,k]=(0,s.useState)(5),[f,v]=(0,s.useState)([]),[w,_]=(0,s.useState)(""),[P,N]=(0,s.useState)(!1),[I,C]=(0,s.useState)(!1),[y,S]=(0,s.useState)(!1),[F,M]=(0,s.useState)([]),[O,V]=(0,s.useState)(!1),[K,z]=(0,s.useState)([]),[L,H]=(0,s.useState)(-1),[T,Y]=(0,s.useState)("本职"),[D,E]=(0,s.useState)([]),[G,A]=(0,s.useState)([]),[Q,U]=(0,s.useState)([0,100]),[X,q]=(0,s.useState)([0,0]),[B,J]=(0,s.useState)([0,0]),[W,R]=(0,s.useState)([r.i3["徒手"]]),[Z,$]=(0,s.useState)(""),[ee,en]=(0,s.useState)(""),[et,ei]=(0,s.useState)(["0","0"]),[el,ea]=(0,s.useState)({}),[es,er]=(0,s.useState)(!1),[eo,ed]=(0,s.useState)(),ec=["力量","体质","敏捷","外貌","意志","体型","教育","智力"],ex=["0：衰弱：甚至无法站立，连杯茶都端不起来。15：羸弱，无力。50：普通人的力量。90：你所见过的最强壮的人之一。99：世界级水平（奥运会举重选手）。人类极限。140：超越人类之力（大猩猩或马匹）。"," 0：死亡。1：病弱，长期卧病在床，无人协助时几乎无法行动。15：身体虚弱，容易生病，疼痛常伴。50：健康普通人的体质。90：不畏寒冷，健壮而精神。99：钢铁之躯，能够承受大量伤痛。人类极限。140：超越人类的体质（如大象）。200+：怪物之体，免疫大多数地球疾病","0：无人协助便无法移动。15：迟缓，协调性差，难以完成精密操作。50：普通人的敏捷。90：迅捷，灵活，能够胜任紧密操作（如杂技演员，出色的舞者）。99：世界级运动员，人类极限。120：超越人类之速（如老虎）。200+：闪电之速，行动之迅捷远超人类理解之外。","0：不堪入目，他人将对其抱有恐惧、厌恶或怜悯。15：丑陋，或许曾因故毁容或先天缺陷。50：普通人的外貌。90：你所见过的最迷人的人之一，具有先天吸引力。99：美和酷的顶点（超模或世界级影星）。人类极限","0：精神衰弱，缺乏意志力，毫无魔法潜能。15：意志薄弱，容易被更具智慧或意志力的人左右。50：普通人的意志。90：意志坚强，有动力，具有较高潜力来沟通魔法与不可视之物。100：钢铁意志，与心灵‘秘境’和不可视世界具有紧密连接。 140：超越人类，或许是神话存在。210+：滔天魔法潜能，超乎人类理解的伟岸意志","1：婴儿（1-12磅/1-6kg）。15：儿童，身材矮小（侏儒）（33磅/15kg）。65：普通人的体型（中等身高体重）（170磅/75kg）。80：高大，壮硕，或肥胖（240磅/110kg）。99：在某一方面算是超大号（330磅/150kg）。150：马或牛（960磅/440kg）。180：有史以来最重的人类（1400磅/640kg）。200+：1920 磅/872kg","0：新生婴儿。15：未曾受过任何类型的教育。60：高中毕业。70：大学毕业（学士学位）。80：研究生毕业（硕士学位）。90：博士，教授。96：某一领域的世界级权威。99：人类极限。","0：没有智力，无法理解身边的世界。15：学习速度慢，只能完成最基础的数学运算或阅读初学者级别的书籍。50：普通人的智力。90：才思敏捷，很可能理解多种语言或定理。99：天才（爱因斯坦，达芬奇，特斯拉等）。人类极限。140：超越人类之智"],eu=async e=>{let n=e.group,t=e.user,i=await fetch(d.Y+"/get_my_data",{method:"post",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify({user:t,group:n})}),l=(await i.json()).data;0===l.user.length&&0===l.user_group.length?er(!0):ed(l)};(0,s.useEffect)(()=>{let e=window.location.search.split("?")[1];var t=e?e.split("&"):[],i={};for(let e=0;e<t.length;e++){let n=t[e].split("=");i[n[0]]=n[1]}eu(i);let a=+i.point?+i.point:500,s=+i.dicetime?+i.dicetime:5;b(s),k(s),n(a),l(a),en(i.group),$(i.user)},[]);let em=function(e){ej(null==eo?void 0:eo.user[e]),window.location.reload()},eh=function(n,t){if("attribute"in el||(el.attribute={}),"story"in el||(el.story={}),"item"in el||(el.item=""),"att_style"in t){if("gd"===t.att_style){for(var i=0;i<ec.length;i++)el.attribute[ec[i]]=t[ec[i]]?+t[ec[i]]:0;l(e-el.attribute["力量"]-el.attribute["敏捷"]-el.attribute["体型"]-el.attribute["意志"]-el.attribute["体质"]-el.attribute["教育"]-el.attribute["智力"]-el.attribute["外貌"])}else if("att"in t&&t.att>=0&&f.length>0)for(var a=f[t.att],i=0;i<ec.length;i++)el.attribute[ec[i]]=a[i];else for(var i=0;i<ec.length;i++)el.attribute[ec[i]]=0;el.HP_MAX=Math.floor((el.attribute["体质"]+el.attribute["体型"])/10),el.HP=el.HP_MAX,el.MP_MAX=Math.floor(el.attribute["意志"]/5),el.MP=el.MP_MAX,el.SAN_MAX=99,el.SAN=Math.floor(el.attribute["意志"]),el.MOV=el.attribute["力量"]<el.attribute["体型"]&&el.attribute["敏捷"]<el.attribute["体型"]?7:el.attribute["力量"]>=el.attribute["体型"]&&el.attribute["敏捷"]>=el.attribute["体型"]?9:8;var s=el.attribute["力量"]+el.attribute["体型"];el["体格"]=s<65?-2:s<85?-1:s>=205?Math.floor((s-205)/80)+3:Math.floor((s-85)/40),el.DB=-2===el["体格"]?"-2":-1===el["体格"]?-1:0===el["体格"]?0:1===el["体格"]?"+1D4":2===el["体格"]?"+1D6":"+"+(el["体格"]-1).toString()+"D6","职业"in el&&el["职业"]&&eb(["",el["职业"]])}else"幸运"in t?el.attribute["幸运"]=t["幸运"]:"name"in t?(el.name=t.name?t.name:"",el.age=t.age?+t.age:0,el.sex=t.sex?+t.sex:0,el.time=t.time?t.time:"",el.whereborn=t.whereborn?t.whereborn:"",el.wherelive=t.wherelive?t.wherelive:""):"职业"in t?el["职业"]=t["职业"]:"形象描述"in t?(t["形象描述"]&&(el.story["形象描述"]=t["形象描述"]),t["思想信念"]&&(el.story["思想信念"]=t["思想信念"]),t["重要之人"]&&(el.story["重要之人"]=t["重要之人"]),t["意义非凡之地"]&&(el.story["意义非凡之地"]=t["意义非凡之地"]),t["宝贵之物"]&&(el.story["宝贵之物"]=t["宝贵之物"]),t["特质"]&&(el.story["特质"]=t["特质"]),t["精神状况"]&&(el.story["精神状况"]=t["精神状况"]),t["个人介绍"]&&(el.story["个人介绍"]=t["个人介绍"])):"法术"in t&&(t["法术"]&&(el.story["法术"]=t["法术"]),t["魔法物品与典籍"]&&(el.story["魔法物品与典籍"]=t["魔法物品与典籍"]),t["第三类接触"]&&(el.story["第三类接触"]=t["第三类接触"]),t["物品与装备"]&&(el.item=t["物品与装备"]));ea(el)},eg=function(e){console.log(e);var n="";if(!("attribute"in e))return"请生成属性";if(!("skill"in e))return"请生成技能";for(let n=0;n<ec.length;n++){var i=ec[n];if("attribute"in e&&(e.attribute[i]>95||e.attribute[i]<20))return"属性"+i+"应在20-95之间\n"}if(t<0)return n+"属性超额使用！\n";for(var l=!1,a=Object.keys(e.skill),s=0;s<a.length;s++){var r=a[s];if(e.skill[r]>100)return"技能"+r+"的加值总额应在100以内\n";"信用评级"===r&&(l=!0)}return l?X[0]-B[0]>50||X[1]-B[1]>50?n+="还有好多技能点没有分配！\n":B[0]>X[0]||B[1]>X[1]?n+="技能点超额使用！\n":e["职业"]?e.name?e.attribute["幸运"]?"ok":n+="幸运必须填写！\n":n="姓名必须填写！\n":n="职业必须填写！\n":"信用评级不能为空！"};async function ej(e){console.log(e);let n=await fetch(d.Y+"/coc_new",{method:"POST",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify({user:Z,group:ee,data:e})}),t=await n.json();console.log(t),t.ok&&o.u_.alert({content:"已成功提交！"})}let eb=function(e){if(!(e.length<2)){for(var n=[],t=0;t<r.h7.length;t++){var i=r.h7[t];for(let e=0;e<i.sub.length;e++){var l=i.sub[e],a={name:r.I[l].name,sub:r.I[l].sub,subName:"",subList:r.I[l].sub_name,showName:r.I[l].name,work:!1,defaultPoint:r.I[l].default,workPoint:0,interPoint:0,levelup:r.I[l].levelup};n.push(a)}}for(var s=[],o=e[1],d=r.PK[o],x=d.skill,t=0;t<x.length;t++)if("name"in x[t]){var u={};u.name=x[t].name,"sub_name"in x[t]?(u.sub_name=x[t].sub_name,u.showname=x[t].name+":"+x[t].sub_name):u.showname=x[t].name;var m=c(n,u.showname,"showName"),h=c(n,u.name,"name",u.sub_name,"subName");m>=0?(n[m].work=!0,u.index=m):h>=0?(n[h]={name:u.name,sub:!1,subName:u.sub_name,showName:u.showname,work:!0,defaultPoint:n[h].defaultPoint,workPoint:0,interPoint:0,levelup:n[h].levelup},u.index=h):console.log("意料之外的初始技能！",u.showname),s.push(u)}else{var g=[];for(let e in r.I)0>c(s,e,"showname")&&r.I[e].levelup&&g.push({name:r.I[e].name});for(let e=0;e<x[t].number;e++){var u={};u.select_list="list"==x[t].area?x[t].list:g,u.index=-1,s.push(u)}}if(el.attribute){for(var j=0,t=0;t<d.workPoints.length;t++)j+=1==d.workPoints[t].att.length?el.attribute[d.workPoints[t].att[0]]*d.workPoints[t].scale:Math.max(el.attribute[d.workPoints[t].att[0]],el.attribute[d.workPoints[t].att[1]])*d.workPoints[t].scale;q([j,2*el.attribute["智力"]]),n[c(n,"闪避","name")].defaultPoint=Math.floor(el.attribute["敏捷"]/2),n[c(n,"母语","name")].defaultPoint=Math.floor(el.attribute["教育"])}U(d["信用评级"]),A(s),E(n),_(o),N(!1),eh(null,{职业:o})}},ep=function(e){R(W.filter((n,t)=>t!==e))},ek=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"work";if("work"===n){for(var t=e[0],i=-1,l=0;l<D.length;l++)if(D[l].name===t&&!1===D[l].work){i=l;break}if(i<0);else{var a=D;a[i].work=!0,"sub_name"in a[i]?G[L]={index:i,name:a[i].name,sub_name:a[i].subName,showname:a[i].showName}:G[L]={index:i,name:a[i].name,showname:a[i].showName},E(a),A(G)}}else if("sub"===n){var t=e[0],a=D;a[L].subName=t,a[L].showName=a[L].name+":"+a[L].subName,E(a)}},ef=function(e,n){var t=e.select_list,i=[];for(let e=0;e<t.length;e++)i.push({label:t[e].name,value:t[e].name});H(n),M([i]),S(!0)},ev=function(e,n){var t=[];for(let n=0;n<e.length;n++)t.push({label:e[n],value:e[n]});H(n),z([t]),V(!0)},ew=function(e,n){for(var t=[],i=0;i<e.length;i++)n.indexOf(e[i].name)>=0&&t.push({skillInfo:e[i],index:i});return t},e_=function(e,n){e?D[n].workPoint=+e:D[n].workPoint=0;for(var t=[0,0],i=0;i<D.length;i++)t[0]+=D[i].workPoint,t[1]+=D[i].interPoint;J(t),E(D)},eP=function(e,n){e?D[n].interPoint=+e:D[n].interPoint=0;for(var t=[0,0],i=0;i<D.length;i++)t[0]+=D[i].workPoint,t[1]+=D[i].interPoint;J(t),E(D)},eN=function(e,n){console.log(e),e?W[n].名称=e:W[n].名称="无名武器",R(W)};return(0,i.jsx)(i.Fragment,{children:es?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.vT,{options:r.yi,visible:P,onClose:()=>{N(!1)},onSelect:eb}),(0,i.jsx)(o.vT,{options:r.Ci,visible:I,onClose:()=>{C(!1)},onSelect:function(e){if(2===e.length){var n=e[1],t=r.i3[n];W.push(t),R(W),C(!1)}}}),(0,i.jsx)(o.cW,{columns:F,visible:y,onClose:()=>{S(!1)},onConfirm:e=>{ek(e,"work")}}),(0,i.jsx)(o.cW,{columns:K,visible:O,onClose:()=>{V(!1)},onConfirm:e=>{ek(e,"sub")}}),(0,i.jsxs)(o.mQ,{children:[(0,i.jsx)(o.mQ.Tab,{title:"基础属性",children:(0,i.jsxs)(o.l0,{layout:"horizontal",onValuesChange:eh,initialValues:{att_style:"gd"},children:[(0,i.jsx)(o.l0.Header,{children:"基本属性"}),(0,i.jsx)(o.l0.Item,{name:"att_style",label:"属性方式",children:(0,i.jsx)(o.Y8.Group,{onChange:function(e){m(e)},children:(0,i.jsxs)(o.T,{direction:"vertical",children:[(0,i.jsxs)(o.Y8,{value:"gd",children:["购点(",e,")"]}),(0,i.jsxs)(o.Y8,{value:"sj",children:["随机(",p,"次)"]})]})})}),"gd"==u?(0,i.jsxs)(o.l0.Header,{children:["属性点剩余:",t]}):(0,i.jsx)(o.l0.Header,{children:"请选择你想要的属性"}),(0,i.jsx)(o.l0.Item,{name:"att",label:"属性选择",hidden:"gd"===u,children:(0,i.jsx)(o.Y8.Group,{children:(0,i.jsx)(o.T,{direction:"vertical",children:f.map((e,n)=>(0,i.jsxs)(o.Y8,{value:n,children:["[",e.reduce((e,n)=>e+n,0),"]力量",e[0],",体质",e[1],", 敏捷",e[2],", 外貌",e[3],", 意志",e[4],", 体型",e[5],", 教育",e[6],", 智力",e[7]]},n))})})}),ec.map((e,n)=>(0,i.jsx)(o.l0.Item,{name:e,label:e,rules:[{required:!0}],hidden:"gd"!==u,help:ex[n],children:(0,i.jsx)(o.II,{placeholder:e})},n)),"gd"===u?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)(o.zx,{block:!0,color:"success",size:"large",style:{margin:"16px"},onClick:function(){var e=[5*x(3,6),5*x(3,6),5*x(3,6),5*x(3,6),5*x(3,6),5*x(2,6)+30,5*x(2,6)+30,5*x(2,6)+30],n=[...f];n.push(e);var t=p-1;v(n),k(t)},disabled:p<=0,children:["生成(剩余",p,"次)"]}),(0,i.jsx)(o.l0.Header,{children:"幸运"}),(0,i.jsx)(o.l0.Item,{label:"幸运",extra:(0,i.jsxs)(o.zx,{color:"success",onClick:function(){if(!(j<=0)){var e=5*x(3,6);eh(null,{幸运:e}),g(e),b(j-1)}},disabled:j<=0,children:["随机(剩余",j,"次)"]}),children:(0,i.jsx)(o.II,{placeholder:"请输入",readOnly:!0,value:h.toString()})})]})},"att-key"),(0,i.jsx)(o.mQ.Tab,{title:"角色信息",children:(0,i.jsxs)(o.l0,{layout:"horizontal",onValuesChange:eh,children:[(0,i.jsx)(o.l0.Header,{children:"角色信息"}),(0,i.jsx)(o.l0.Item,{name:"name",label:"姓名",rules:[{required:!0,message:"姓名不能为空"}],children:(0,i.jsx)(o.II,{onChange:console.log,placeholder:"请输入姓名"})}),(0,i.jsx)(o.l0.Item,{name:"sex",label:"性别",children:(0,i.jsxs)(o.Y8.Group,{defaultValue:"1",children:[(0,i.jsx)(o.Y8,{value:"1",children:"男"}),(0,i.jsx)(o.Y8,{value:"2",children:"女"})]})}),(0,i.jsx)(o.l0.Item,{name:"age",label:"年龄",children:(0,i.jsx)(o.II,{placeholder:"年龄"})}),(0,i.jsx)(o.l0.Item,{name:"time",label:"时代",children:(0,i.jsx)(o.II,{placeholder:"时代"})}),(0,i.jsx)(o.l0.Item,{name:"wherelive",label:"住地",children:(0,i.jsx)(o.II,{placeholder:"住地"})}),(0,i.jsx)(o.l0.Item,{name:"whereborn",label:"故乡",children:(0,i.jsx)(o.II,{placeholder:"故乡"})}),(0,i.jsx)(o.l0.Item,{label:"职业",rules:[{required:!0,message:"职业必须选择"}],onClick:()=>N(!0),children:(0,i.jsx)(o.II,{placeholder:"请选择",value:w,readOnly:!0})}),w?(0,i.jsxs)("div",{style:{fontSize:"12px"},children:[(0,i.jsxs)("div",{children:["【",w,"】"]}),(0,i.jsxs)("div",{children:["信用评级:",Q[0],"-",Q[1]]}),(0,i.jsxs)("div",{children:["本职技能:",r.PK[w].describe]})]}):(0,i.jsx)(i.Fragment,{})]})},"info-key"),(0,i.jsxs)(o.mQ.Tab,{title:"技能加点",children:[(0,i.jsxs)("div",{className:a().skillCount,children:["本职技能点:",X[0]-B[0],"   兴趣技能点:",X[1]-B[1]]}),(0,i.jsx)("div",{children:"职业"in el&&el["职业"]?(0,i.jsxs)("div",{className:a().container,children:[(0,i.jsxs)(o.Ke,{activeKey:T,onChange:Y,children:[r.h7.map(e=>(0,i.jsx)(o.Ke.Item,{title:e.name},e.name)),(0,i.jsx)(o.Ke.Item,{title:"已点技能"},"已点技能")]}),(0,i.jsxs)("div",{style:{width:"100%"},children:[r.h7.map(e=>(0,i.jsx)("div",{hidden:T!=e.name,children:(0,i.jsxs)(o.rj,{columns:3,style:{backgroundColor:"#EEEFFF"},children:[(0,i.jsx)(o.rj.Item,{className:a().griditem,children:(0,i.jsxs)("div",{className:a().skilltitle,children:["技能名称",(0,i.jsx)("br",{}),"(初始)[最终]"]})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,children:(0,i.jsx)("div",{className:a().skilltitle,children:"本职技能点"})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,children:(0,i.jsx)("div",{className:a().skilltitle,children:"兴趣技能点"})}),"本职"===e.name?null==G?void 0:G.map((e,n)=>e.index>=0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:a().griditem,onClick:D[e.index].sub?()=>ev(D[e.index].subList,e.index):()=>{},style:{backgroundColor:"rgba(250,150,10,"+((D[e.index].workPoint+D[e.index].defaultPoint+D[e.index].interPoint)/100).toString()+")"},children:(0,i.jsxs)("div",{className:a().skilltext,style:{color:D[e.index].sub&&!D[e.index].subName?"darkblue":"black"},children:[D[e.index].sub?D[e.index].name+":"+(D[e.index].subName?D[e.index].subName:"未选择"):D[e.index].showName,(0,i.jsx)("br",{}),"(",D[e.index].defaultPoint,")[",D[e.index].defaultPoint+D[e.index].workPoint+D[e.index].interPoint,"]"]})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,style:{backgroundColor:"rgba(250,150,10,"+(D[e.index].workPoint/(100-D[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:a().skillinput,children:(0,i.jsx)(o.vF,{step:5,min:0,max:100-D[e.index].defaultPoint-D[e.index].interPoint,value:D[e.index].workPoint,onChange:n=>e_(n,e.index)})})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,style:{backgroundColor:"rgba(250,150,10,"+(D[e.index].interPoint/(100-D[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:a().skillinput,children:D[e.index].levelup&&"信用评级"!==D[e.index].name?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-D[e.index].defaultPoint-D[e.index].workPoint,value:D[e.index].interPoint,onChange:n=>eP(n,e.index)}):(0,i.jsx)(i.Fragment,{})})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:a().griditem,onClick:()=>ef(e,n),children:(0,i.jsxs)("div",{style:{color:"red"},className:a().skilltext,children:["[点击选择]",(0,i.jsx)("br",{}),"(","0",")"]})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,children:(0,i.jsx)("div",{className:a().skillinput})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,children:(0,i.jsx)("div",{className:a().skillinput})})]})):ew(D,e.sub).map((e,n)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:a().griditem,onClick:D[e.index].sub?()=>ev(D[e.index].subList,e.index):()=>{},style:{backgroundColor:"rgba(250,150,10,"+((D[e.index].workPoint+D[e.index].defaultPoint+D[e.index].interPoint)/100).toString()+")"},children:(0,i.jsxs)("div",{className:a().skilltext,style:{color:D[e.index].sub&&!D[e.index].subName?"darkblue":"black"},children:[D[e.index].sub?D[e.index].name+":"+(D[e.index].subName?D[e.index].subName:"未选择"):D[e.index].showName,(0,i.jsx)("br",{}),"(",D[e.index].defaultPoint,")[",D[e.index].defaultPoint+D[e.index].workPoint+D[e.index].interPoint,"]"]})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,style:{backgroundColor:"rgba(250,150,10,"+(D[e.index].workPoint/(100-D[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:a().skillinput,children:D[e.index].levelup&&D[e.index].work?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-D[e.index].defaultPoint-D[e.index].interPoint,value:D[e.index].workPoint,onChange:n=>e_(n,e.index)}):(0,i.jsx)(i.Fragment,{})})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,style:{backgroundColor:"rgba(250,150,10,"+(D[e.index].interPoint/(100-D[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:a().skillinput,children:D[e.index].levelup&&"信用评级"!==D[e.index].name?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-D[e.index].defaultPoint-D[e.index].workPoint,value:D[e.index].interPoint,onChange:n=>eP(n,e.index)}):(0,i.jsx)(i.Fragment,{})})})]}))]})},e.name)),(0,i.jsx)("div",{hidden:"已点技能"!=T,children:(0,i.jsxs)(o.rj,{columns:3,style:{backgroundColor:"#EEEFFF"},children:[(0,i.jsx)(o.rj.Item,{className:a().griditem,children:(0,i.jsxs)("div",{className:a().skilltitle,children:["名称",(0,i.jsx)("br",{}),"(初始)[最终]"]})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,children:(0,i.jsx)("div",{className:a().skilltitle,children:"本职技能点"})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,children:(0,i.jsx)("div",{className:a().skilltitle,children:"兴趣技能点"})}),(function(e){for(var n=[],t=0;t<e.length;t++)(0!=e[t].interPoint||0!=e[t].workPoint)&&n.push({skillInfo:e[t],index:t});return n})(D).map((e,n)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:a().griditem,onClick:D[e.index].sub?()=>ev(D[e.index].subList,e.index):()=>{},style:{backgroundColor:"rgba(250,150,10,"+((D[e.index].workPoint+D[e.index].defaultPoint+D[e.index].interPoint)/100).toString()+")"},children:(0,i.jsxs)("div",{className:a().skilltext,style:{color:D[e.index].sub&&!D[e.index].subName?"darkblue":"black"},children:[D[e.index].sub?D[e.index].name+":"+(D[e.index].subName?D[e.index].subName:"未选择"):D[e.index].showName,(0,i.jsx)("br",{}),"(",D[e.index].defaultPoint,")[",D[e.index].defaultPoint+D[e.index].workPoint+D[e.index].interPoint,"]"]})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,style:{backgroundColor:"rgba(250,150,10,"+(D[e.index].workPoint/(100-D[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:a().skillinput,children:D[e.index].levelup&&D[e.index].work?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-D[e.index].defaultPoint-D[e.index].interPoint,value:D[e.index].workPoint,onChange:n=>e_(n,e.index)}):(0,i.jsx)(i.Fragment,{})})}),(0,i.jsx)(o.rj.Item,{className:a().griditem,style:{backgroundColor:"rgba(250,150,10,"+(D[e.index].interPoint/(100-D[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:a().skillinput,children:D[e.index].levelup&&"信用评级"!==D[e.index].name?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-D[e.index].defaultPoint-D[e.index].workPoint,value:D[e.index].interPoint,onChange:n=>eP(n,e.index)}):(0,i.jsx)(i.Fragment,{})})})]}))]})},"已点技能")]})]}):(0,i.jsx)("div",{className:a().skillcant,hidden:el["职业"],children:" 请先生成属性与职业！ "})})]},"skill-key"),(0,i.jsx)(o.mQ.Tab,{title:"背景故事",children:(0,i.jsxs)(o.l0,{layout:"horizontal",onValuesChange:eh,children:[(0,i.jsx)(o.l0.Header,{children:"背景故事"}),(0,i.jsx)(o.l0.Item,{name:"个人介绍",label:"个人介绍",help:"个人介绍",children:(0,i.jsx)(o.Kx,{placeholder:"个人介绍",maxLength:100,rows:8,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"形象描述",label:"形象描述",help:"英俊 迷人 邋遢 引人瞩目 疲倦 笨拙 娃娃脸 迟钝 书卷气 胖乎乎 毛发旺盛 优雅 脸色苍白 乐观 古板 强壮 衣着破旧 阴沉 晒黑 羞怯 苗条 矮壮 平凡 皱纹 机智 娇美 魁梧 笨拙 肌肉发达 虚弱",children:(0,i.jsx)(o.Kx,{placeholder:"形象描述",maxLength:100,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"思想信念",label:"思想信念",help:"1. 你崇拜一位大能，会向其献上祈祷（如毗湿奴、耶稣、海尔\xb7塞拉西一世）2. 没有宗教，人们一样能过的很好（如坚定的无神论者、人文主义者、世俗论者）3. 科学终将解释一切。选择一个感兴趣的领域（如进化论、低温学、空间探索）4. 相信命运（如因果报应、社会阶级、迷信）5. 协会或秘密结社的一员（如共济会、妇女协会、匿名者）6. 社会上的罪恶应该被根除。这里罪恶是指什么？（如毒品、暴力、种族偏见）7. 神秘学（如占星术、唯心论、塔罗牌）8. 政治（如保守派、社会主义者、自由主义者）9. “金钱就是力量，我会尽我所能。”（如贪婪、进取、无情）10. 活动家/积极分子（如女权主义、权利平等、工会权力）",children:(0,i.jsx)(o.Kx,{placeholder:"思想信念",maxLength:100,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"重要之人",label:"重要之人",help:"1. 父母（如母亲、父亲、继母）2. 祖父母（如外祖母、祖父）3. 兄弟姐妹（如兄弟、异母或异父兄弟、继姐妹）4. 子女（儿子或女儿）5. 伴侣（如配偶、未婚夫、恋人）6. 教授你最高本职技能的人。确定技能并考虑那人是谁（如学校老师、收你当学徒的人、你的父亲）7. 儿时的朋友（如同学、邻居、想象出来的朋友）8. 一位名人。你将其视作偶像或英雄，而你们可能从未见过（如影星、政客、音乐家）9. 游戏中的调查员同伴。选择一个或随机指定。10. 游戏中的非玩家角色（NPC）。询问守秘人，让他为你选择一个。1. 你感激他们。他们是如何帮助你的？（如经济上的帮助、在困难时期保护你、帮你找到第一份工作）2. 他们教会了你一些东西。是什么？（如某项技能、如何去爱、如何做人）3. 他们赋予你生命的意义。是什么？（如你渴望成为他们那样的人、你追求和他们一起、你希望让他们快乐）4. 你亏欠他们，想要寻求谅解。你做了什么？（如你偷了他们的钱、你向警察告发了他们、在他们最绝望时你拒绝提供帮助）5. 你们有着共同的经历。是什么？（如你们一起度过了艰难岁月、一同长大、一起在战争中服役）6. 你希望向他们证明自己。怎么做？（如得到一份好工作、找到自己的好伴侣、接受更好的教育）7. 你崇拜他们（如他们的名声、美貌、工作）8. 你感到后悔（如你本应死在他们的位置上、你出于某种原因而与他们闹翻、你本有机会帮助他们）9. 你想证明自己比他们更好。他们的缺点是什么？（如懒惰、酗酒、缺乏爱心）10. 他们曾迫害过你，你想要报复。你因何责怪他们？（如爱人的死亡、破产、婚姻破裂）",children:(0,i.jsx)(o.Kx,{placeholder:"重要之人",maxLength:100,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"意义非凡之地",label:"意义非凡之地",help:"1. 你学习的地方（如学校、大学）2. 你的故乡（如农村、集镇、繁华的大城市）3. 你邂逅初恋的地方（如音乐会、度假地、防空洞）4. 供你静思的地方（如图书馆、属于你的乡间步道、钓场）5. 社交场所（ 如上流俱乐部、当地酒吧、叔叔家的宅子）6. 和你的思想与信念有关的地方（如城区教堂、麦加、巨石阵）7. 重要之人的坟墓。那是谁？（如父母、子女、恋人）8. 你的家（如乡间庄园、出租公寓、收养你长大的孤儿院）9. 你一生中最幸福的时候所在的地方（如初吻时的公园长椅、你的大学）10. 你的工作场所（如办公室、图书馆、银行）",children:(0,i.jsx)(o.Kx,{placeholder:"意义非凡之地",maxLength:100,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"宝贵之物",label:"宝贵之物",help:"1. 与你最高的技能有关的物品（如昂贵的西装、假身份证明、铜指虎）2. 职业的必备物品（如医疗箱、汽车、开锁工具）3. 儿时的纪念品（如漫画、小折叠刀、幸运币）4. 逝者的遗物（如珠宝、钱包里的照片、信件）5. 重要之人送你的东西（如戒指、日记、地图）6. 你的收藏品。它是什么？（如车票、毛绒玩具、唱片）7. 你找到的一些东西，但你并不知道它是什么。你试图寻找答案（如：在橱子里发现的以未知语言写成的信，在父亲的遗物中找到的来路不明的古怪烟斗，在你的花园里挖到的古怪银球）8. 一件体育用品（如板球拍、签名球棒、钓竿）9. 一件武器（如配发的左轮手枪、你的旧猎枪、藏在靴子里的刀）10. 一只宠物（如狗、猫、龟）",children:(0,i.jsx)(o.Kx,{placeholder:"宝贵之物",maxLength:100,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"特质",label:"特质",help:"1. 慷慨大方（如付小费时毫不吝啬、常向需要帮助的人伸出援手、乐善好施）2. 动物之友（如爱猫、在农场长大、爱马）3. 梦想家（如热爱幻想、富有远见、充满创造力）4. 享乐主义（如派对至上、嗜酒如命、“人生苦短，及时行乐”）5. 赌徒、敢于冒险（如扑克脸、勇于尝试、过着惊险的日子）6. 料理能手（如烤得一手好蛋糕、能为无米之炊、味觉盛宴）7. 万人迷（如温文尔雅、嗓音动听、迷人双眸）8. 义薄云天（如朋友的坚实后盾、一诺千金、愿为信念赴死）9. 名声在外（如国内最健谈的餐后演讲者、虔诚信徒、无所畏惧）10. 野心勃勃（如实现某一目的、成为老板、拥有一切）",children:(0,i.jsx)(o.Kx,{placeholder:"特质",maxLength:100,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"精神状况",label:"精神状况",help:"精神状况",children:(0,i.jsx)(o.Kx,{placeholder:"精神状况",maxLength:100,rows:3,showCount:!0})})]})},"story-key"),(0,i.jsxs)(o.mQ.Tab,{title:"经历",children:[(0,i.jsxs)(o.l0,{layout:"horizontal",onValuesChange:eh,children:[(0,i.jsx)(o.l0.Header,{children:"武器"}),(0,i.jsx)(o.l0.Item,{label:"武器",help:"随身携带的武器，请综合考虑年代背景和职业是否有合理理由携带此武器。可以重命名一下武器名字，名字中间没有空格的话可以直接.r名称进行骰伤害。",layout:"vertical",children:(0,i.jsxs)("div",{className:a().weaponCon,children:[W.map((e,n)=>(0,i.jsxs)("div",{className:a().weaponOne,children:[(0,i.jsxs)("div",{className:a().weaponDel,children:[(0,i.jsx)(o.zx,{size:"mini",color:"danger",onClick:()=>{ep(n)},children:"删除"})," "]}),(0,i.jsx)(o.II,{className:a().weaponName,onChange:e=>eN(e,n),defaultValue:W[n]["名称"]}),(0,i.jsxs)("div",{className:a().weaponValue,children:[e["伤害"],",",e["贯穿"]?"贯穿":"非贯穿"]})]},n)),(0,i.jsx)("div",{className:a().weaponOne,children:(0,i.jsx)(o.zx,{block:!0,color:"primary",size:"large",onClick:()=>{C(!0)},children:"新增"})})]})}),(0,i.jsx)(o.l0.Header,{children:"物品与装备"}),(0,i.jsx)(o.l0.Item,{name:"物品与装备",label:"物品与装备",help:"随身携带的物品，请考虑该物品是否会随身携带",children:(0,i.jsx)(o.Kx,{placeholder:"物品与装备",maxLength:100,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Header,{children:"克苏鲁神话"}),(0,i.jsx)(o.l0.Item,{name:"魔法物品与典籍",label:"魔法物品与典籍",help:"拥有的魔法物品与典籍，一般人没有",children:(0,i.jsx)(o.Kx,{placeholder:"魔法物品与典籍",maxLength:100,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"法术",label:"法术",help:"掌握的法术，正常人一般不会学到法术",children:(0,i.jsx)(o.Kx,{placeholder:"法术",maxLength:100,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"第三类接触",label:"第三类接触",help:"第三类接触，一般人不会接触",children:(0,i.jsx)(o.Kx,{placeholder:"第三类接触",maxLength:100,rows:3,showCount:!0})})]}),(0,i.jsx)(o.zx,{block:!0,color:"success",size:"large",onClick:function(){console.log(666);var e={};for(let n=0;n<D.length;n++)(0!==D[n].interPoint||0!==D[n].workPoint||["闪避","母语"].includes(D[n].name))&&(e[D[n].showName]=D[n].defaultPoint+D[n].workPoint+D[n].interPoint);var n={};for(let e=0;e<W.length;e++)n[W[e]["名称"]]=W[e];el.skill=e,el.weapon=n;let t=eg(el);"ok"!==t?o.FN.show({content:t,afterClose:()=>{console.log("after")}}):ej(el)},children:"创建角色卡"})]},"item-key")]})]}):(0,i.jsxs)("div",{className:a().mainbg,children:[(0,i.jsxs)("div",{className:a().cardbg,children:[(0,i.jsx)("div",{children:"其他群的角色卡"}),eo?eo.user.map((e,n)=>(0,i.jsxs)("div",{className:a().onecard,children:[(0,i.jsxs)("text",{children:[e.name," - ",e["职业"]]}),(0,i.jsx)(o.zx,{color:"success",onClick:()=>em(n),children:"导入"})]},n)):(0,i.jsx)(i.Fragment,{})]}),(0,i.jsxs)("div",{className:a().cardbg,children:[(0,i.jsx)("div",{children:"本群角色卡"}),eo?eo.user_group.map((e,n)=>(0,i.jsxs)("div",{className:a().onecard,children:[(0,i.jsxs)("text",{children:[e.name," - ",e["职业"]]}),(0,i.jsx)(o.zx,{color:"success",onClick:()=>{window.location.href="/edit?group="+ee+"&user="+Z},children:"编辑"})]},n)):(0,i.jsx)(i.Fragment,{})]}),(0,i.jsx)("div",{children:(0,i.jsx)(o.zx,{block:!0,color:"success",size:"large",onClick:()=>{er(!0)},children:"新建角色卡(覆盖本群角色卡)"})})]})})}},345:function(e){e.exports={container:"page_container__aoG4z",skillmain:"page_skillmain__2gGSS",skillCount:"page_skillCount__d3dGo",skilltitle:"page_skilltitle__MInEO",skilltext:"page_skilltext__dNpfI",skillinput:"page_skillinput__IUObB",skillcant:"page_skillcant__YLN_D",griditem:"page_griditem__MsO6D",weaponCon:"page_weaponCon__6KH_n",weaponOne:"page_weaponOne__IFJGv",weaponDel:"page_weaponDel__XreDW",weaponName:"page_weaponName__Auhs5",weaponValue:"page_weaponValue__5Og0V",cardbg:"page_cardbg__G0kBY",onecard:"page_onecard__vdAOZ",mainbg:"page_mainbg__pVVV9",main:"page_main__GlU4n",description:"page_description__86bsR",code:"page_code__9lUUd",grid:"page_grid__f5Kdy",card:"page_card__QV0Om",center:"page_center__5oHG7",logo:"page_logo__7fc9l",content:"page_content__kDoxQ",vercelLogo:"page_vercelLogo__rOY_u",rotate:"page_rotate__durgN"}}},function(e){e.O(0,[740,277,11,971,69,744],function(){return e(e.s=2179)}),_N_E=e.O()}]);