(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{52269:function(e,n,l){"use strict";l.d(n,{Z:function(){return g}});var i=l(57437),t=l(20345),s=l.n(t),r=l(2265),a=l(74971),o=l(80881),d=l(22649);function x(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name";for(var i=0;i<e.length;i++)if(e[i][l]===n)return i;return -1}function c(e,n,l){for(var i=0;i<e.length;i++)if(!1===e[i].work&&e[i][l]===n)return i;return -1}function h(e,n){for(var l=0,i=0;i<e;i++)l+=Math.floor(Math.random()*(n-1+1))+1;return l}let u=["力量","体质","敏捷","外貌","意志","体型","教育","智力"],m=["0：衰弱：甚至无法站立，连杯茶都端不起来。15：羸弱，无力。50：普通人的力量。90：你所见过的最强壮的人之一。99：世界级水平（奥运会举重选手）。人类极限。140：超越人类之力（大猩猩或马匹）。"," 0：死亡。1：病弱，长期卧病在床，无人协助时几乎无法行动。15：身体虚弱，容易生病，疼痛常伴。50：健康普通人的体质。90：不畏寒冷，健壮而精神。99：钢铁之躯，能够承受大量伤痛。人类极限。140：超越人类的体质（如大象）。200+：怪物之体，免疫大多数地球疾病","0：无人协助便无法移动。15：迟缓，协调性差，难以完成精密操作。50：普通人的敏捷。90：迅捷，灵活，能够胜任紧密操作（如杂技演员，出色的舞者）。99：世界级运动员，人类极限。120：超越人类之速（如老虎）。200+：闪电之速，行动之迅捷远超人类理解之外。","0：不堪入目，他人将对其抱有恐惧、厌恶或怜悯。15：丑陋，或许曾因故毁容或先天缺陷。50：普通人的外貌。90：你所见过的最迷人的人之一，具有先天吸引力。99：美和酷的顶点（超模或世界级影星）。人类极限","0：精神衰弱，缺乏意志力，毫无魔法潜能。15：意志薄弱，容易被更具智慧或意志力的人左右。50：普通人的意志。90：意志坚强，有动力，具有较高潜力来沟通魔法与不可视之物。100：钢铁意志，与心灵‘秘境’和不可视世界具有紧密连接。 140：超越人类，或许是神话存在。210+：滔天魔法潜能，超乎人类理解的伟岸意志","1：婴儿（1-12磅/1-6kg）。15：儿童，身材矮小（侏儒）（33磅/15kg）。65：普通人的体型（中等身高体重）（170磅/75kg）。80：高大，壮硕，或肥胖（240磅/110kg）。99：在某一方面算是超大号（330磅/150kg）。150：马或牛（960磅/440kg）。180：有史以来最重的人类（1400磅/640kg）。200+：1920 磅/872kg","0：新生婴儿。15：未曾受过任何类型的教育。60：高中毕业。70：大学毕业（学士学位）。80：研究生毕业（硕士学位）。90：博士，教授。96：某一领域的世界级权威。99：人类极限。","0：没有智力，无法理解身边的世界。15：学习速度慢，只能完成最基础的数学运算或阅读初学者级别的书籍。50：普通人的智力。90：才思敏捷，很可能理解多种语言或定理。99：天才（爱因斯坦，达芬奇，特斯拉等）。人类极限。140：超越人类之智"],j=function(){for(var e=[],n=0;n<a.FK.length;n++)e.push({label:a.FK[n],value:a.FK[n]});return e}();function g(e){let{pointatt:n,atttime:l,pcid:t,completeFun:g,hero:f=0}=e;console.log("hero:",f);let[b,v]=(0,r.useState)(f),[p,k]=(0,r.useState)("gd"),[P,w]=(0,r.useState)(5),[_,N]=(0,r.useState)(!1),[I,C]=(0,r.useState)(l),[y,F]=(0,r.useState)([]),[D,S]=(0,r.useState)(!1),[M,V]=(0,r.useState)(j),[O,A]=(0,r.useState)(!1),[K,H]=(0,r.useState)(!1),[Y,z]=(0,r.useState)(!1),[L,E]=(0,r.useState)([]),[R,T]=(0,r.useState)(!1),[U,X]=(0,r.useState)([]),[G,Q]=(0,r.useState)(-1),[B,q]=(0,r.useState)("本职"),[W,$]=(0,r.useState)([]),[J,Z]=(0,r.useState)([]),[ee,en]=(0,r.useState)([0,100]),[el,ei]=(0,r.useState)([0,0]),[et,es]=(0,r.useState)([0,0]),[er,ea]=(0,r.useState)(0),[eo,ed]=(0,r.useState)([a.i3["徒手"]]),[ex,ec]=(0,r.useState)({name:"",heroinfo:{name:"",skill:[],mainatt:"幸运"},info:{sex:"男",age:0,time:"1920s",whereborn:"",wherelive:""},item:"",职业:"",attribute:{力量:0,敏捷:0,体质:0,外貌:0,意志:0,体型:0,教育:0,智力:0,幸运:0},attex:{HP:0,HP_MAX:0,MP:0,MP_MAX:0,SAN:0,SAN_MAX:0,MOV:0,DB:"-2",体格:-2},skill:[],skill_work:[],story:{个人介绍:"",形象描述:"",思想信念:"",重要之人:"",意义非凡之地:"",宝贵之物:"",特质:"",精神状况:"",魔法物品与典籍:"",法术:"",第三类接触:""},CR:{CR:"赤贫",现金:"0",资产:"0",消费水平:"0"},weapon:[]}),[eh]=o.l0.useForm(),[eu]=o.l0.useForm(),[em]=o.l0.useForm(),[ej]=o.l0.useForm(),eg=async e=>{let n=await fetch(d.Y+"/coc_get_card",{method:"post",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify({card_id:e})}),l=(await n.json()).data;0!==l._id&&(ec(l),v(0),eK(l))};(0,r.useEffect)(()=>{""!==t?eg(t):(ej.setFieldValue("英雄级别",""+b),eA())},[]);let ef=function(e){var l="";for(let n=0;n<u.length;n++){var i=u[n];if("attribute"in e&&(e.attribute[i]>100||e.attribute[i]<15))return"属性"+i+"应在15-100之间\n"}if(e.attribute.体型+e.attribute.体质+e.attribute.力量+e.attribute.外貌+e.attribute.智力+e.attribute.意志+e.attribute.敏捷+e.attribute.教育>n&&"gd"===eh.getFieldValue("att_style"))return"属性超额使用";for(var t=e.skill,s=0;s<t.length;s++){var r=t[s];if(r.interPoint+r.workPoint+r.defaultPoint>100)return"技能"+r+"的加值总额应在100以内\n"}return el[0]-et[0]>50||el[1]-et[1]>50?l+="还有好多技能点没有分配！\n":et[0]>el[0]||et[1]>el[1]?l+="技能点超额使用！\n":e["职业"]?e.name?e.attribute["幸运"]?"ok":l+="幸运必须填写！\n":l="姓名必须填写！\n":l="职业必须填写！\n"},eb=function(){var e=[5*h(3,6),5*h(3,6),5*h(3,6),5*h(3,6),5*h(3,6),5*h(2,6)+30,5*h(2,6)+30,5*h(2,6)+30];ex.hero&&ex.hero>0&&ex.heroinfo.mainatt&&(e[["力量","体质","敏捷","外貌","意志","体型","教育","智力"].indexOf(ex.heroinfo.mainatt)]=(h(1,6)+13)*5);var n=[...y];n.push(e);var l=I-1;F(n),C(l)},ev=function(e){ed(eo.filter((n,l)=>l!==e))},ep=function(e){ej.setFieldValue("英雄类型",e[0]),ej.setFieldValue("核心属性",""),eA()},ek=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"work";if("work"===n){for(var l=e[0],i=-1,t=0;t<W.length;t++)if(W[t].showName===l&&!1===W[t].work){i=t;break}if(i<0);else{var s=W,r=J[G].index;if(r>=0){s[r].work=!1,s[r].workPoint=0;for(var a=[0,0],t=0;t<s.length;t++)a[0]+=s[t].workPoint,a[1]+=s[t].interPoint;es(a)}s[i].work=!0,"sub_name"in s[i]?J[G]={index:i,name:s[i].name,sub_name:s[i].subName,showname:s[i].showName,select_list:J[G].select_list}:J[G]={index:i,name:s[i].name,showname:s[i].showName,select_list:J[G].select_list},$(s),Z(J)}}else if("sub"===n){var l=e[0],s=W;s[G].subName=l,s[G].showName=s[G].name+":"+s[G].subName,$(s)}},eP=function(e,n){var l=e.select_list,i=[];if(0===l.length)for(var t=0;t<W.length;t++)!W[t].work&&W[t].levelup&&i.push({label:W[t].showName,value:W[t].showName});else for(let e=0;e<l.length;e++)if("sub_name"in l[e]){let n=l[e].name+":"+l[e].sub_name;c(W,n,"showName")>=0&&i.push({label:n,value:n})}else{let n=l[e].name;c(W,n,"name")>=0&&i.push({label:n,value:n})}Q(n),E([i]),z(!0)},ew=function(e,n){var l=[];for(let n=0;n<e.length;n++)l.push({label:e[n],value:e[n]});Q(n),X([l]),T(!0)},e_=function(e,n){for(var l=[],i=0;i<e.length;i++)n.indexOf(e[i].name)>=0&&l.push({skillInfo:e[i],index:i});return l},eN=function(e){for(var n=[],l=a.DU[ex.heroinfo.name]["奖励技能"],i=0;i<e.length;i++)l.indexOf(e[i].name)>=0&&n.push({skillInfo:e[i],index:i});return n},eI=function(e){for(var n=[],l=0;l<e.length;l++)e[l].self&&n.push({skillInfo:e[l],index:l});return n},eC=function(e,n){e?W[n].workPoint=+e:W[n].workPoint=0,"信用评级"===W[n].name&&eL(+e);for(var l=[0,0],i=0;i<W.length;i++)l[0]+=W[i].workPoint,l[1]+=W[i].interPoint;es(l),$(W)},ey=function(e,n){e?W[n].interPoint=+e:W[n].interPoint=0;for(var l=[0,0],i=0;i<W.length;i++)l[0]+=W[i].workPoint,l[1]+=W[i].interPoint;es(l),$(W)},eF=function(e,n){if(ex.hero&&ex.hero>0&&ex.heroinfo.name){e?W[n].ensurePoint=+e:W[n].ensurePoint=0;let t=eN(W);for(var l=0,i=0;i<t.length;i++)l+=t[i].skillInfo.ensurePoint;ea(l)}},eD=function(e,n){e?eo[n].名称=e:eo[n].名称="无名武器",ed(eo)},eS=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var i={HP:0,HP_MAX:0,MP:0,MP_MAX:0,SAN:0,SAN_MAX:0,体格:0,DB:"0",MOV:0};(n=+n)&&n>0?1===n?i.HP_MAX=Math.floor((e["体质"]+e["体型"])/10*1.5):i.HP_MAX=Math.floor((e["体质"]+e["体型"])/5):i.HP_MAX=Math.floor((e["体质"]+e["体型"])/10);var t=0;if(l)for(var s=0;s<l.length;s++)"克苏鲁神话"==l[s].name&&(t=l[s].defaultPoint+l[s].ensurePoint+l[s].workPoint+l[s].interPoint);i.HP=i.HP_MAX,i.MP_MAX=Math.floor(e["意志"]/5),i.MP=i.MP_MAX,i.SAN_MAX=99-t,i.SAN=Math.floor(e["意志"])>i.SAN_MAX?i.SAN_MAX:Math.floor(e["意志"]),i.MOV=e["力量"]<e["体型"]&&e["敏捷"]<e["体型"]?7:e["力量"]>=e["体型"]&&e["敏捷"]>=e["体型"]?9:8;var r=e["力量"]+e["体型"];return i["体格"]=r<65?-2:r<85?-1:r>=205?Math.floor((r-205)/80)+3:Math.floor((r-85)/40),i.DB=-2===i["体格"]?"-2":-1===i["体格"]?"-1":0===i["体格"]?"0":1===i["体格"]?"+1D4":2===i["体格"]?"+1D6":"+"+(i["体格"]-1).toString()+"D6",i},eM=function(e,n){for(var l=a.PK[e],i=0,t=0;t<l.workPoints.length;t++)i+=1==l.workPoints[t].att.length?n.attribute[l.workPoints[t].att[0]]*l.workPoints[t].scale:Math.max(n.attribute[l.workPoints[t].att[0]],n.attribute[l.workPoints[t].att[1]])*l.workPoints[t].scale;ei([i,2*n.attribute["智力"]])},eV=function(e){var n=[0,0];let l=e.skill;for(var i=0;i<l.length;i++)n[0]+=l[i].workPoint,n[1]+=l[i].interPoint;es(n)},eO=function(e,n,l){eM(e,l),n[x(n,"闪避","name")].defaultPoint=Math.floor(l.attribute["敏捷"]/2),n[x(n,"母语","name")].defaultPoint=Math.floor(l.attribute["教育"]),$(n)},eA=function(){let e={...ex};if(0!=f){let n=ej.getFieldsValue(!0);e.hero=+n.英雄级别?+n.英雄级别:0,+n.英雄级别>0&&(e.heroinfo.name=n.英雄类型?n.英雄类型:"",e.heroinfo.mainatt=n.核心属性?n.核心属性:"",e.heroinfo.skill=n.英雄天赋?n.英雄天赋:[])}let n=eh.getFieldsValue(!0);u.map((l,i)=>e.attribute[l]=+n[l]),e.attribute.幸运=+n.幸运;let l=eu.getFieldsValue(!0);e.name=l.name?l.name:"",e.职业=l.职业?l.职业:"",e.info.sex=l.sex?l.sex:"",e.info.age=l.age?l.age:0,e.info.whereborn=l.whereborn?l.whereborn:"",e.info.wherelive=l.wherelive?l.wherelive:"",e.info.time=l.time?l.time:"",e.skill=W,e.skill_work=J;let i=em.getFieldsValue(!0);return e.story.个人介绍=i.个人介绍?i.个人介绍:"",e.story.宝贵之物=i.宝贵之物?i.宝贵之物:"",e.story.形象描述=i.形象描述?i.形象描述:"",e.story.思想信念=i.思想信念?i.思想信念:"",e.story.意义非凡之地=i.意义非凡之地?i.意义非凡之地:"",e.story.法术=i.法术?i.法术:"",e.story.第三类接触=i.第三类接触?i.第三类接触:"",e.story.精神状况=i.精神状况?i.精神状况:"",e.story.重要之人=i.重要之人?i.重要之人:"",e.story.魔法物品与典籍=i.魔法物品与典籍?i.魔法物品与典籍:"",e.story.特质=i.特质?i.特质:"",e.story.调查员伙伴=i.调查员伙伴?i.调查员伙伴:"",e.story.宠物伙伴=i.宠物伙伴?i.宠物伙伴:"",e.weapon=eo,e.item=i.item?i.item:"",e.CR.CR=i.CR,e.CR.消费水平=i.消费水平,e.CR.现金=i.现金,e.CR.资产=i.资产,e.attex=eS(e.attribute,e.hero,e.skill),ec(e),console.log(e),e},eK=function(e){return ej.setFieldsValue({英雄级别:""+e.hero,英雄类型:e.heroinfo.name,核心属性:e.heroinfo.mainatt,英雄天赋:e.heroinfo.skill}),eh.setFieldsValue({...e.attribute,att_style:"gd"}),eu.setFieldsValue({name:e.name,职业:e.职业,...e.info}),$(e.skill),Z(e.skill_work),em.setFieldsValue({item:e.item,...e.story,...e.CR}),ed(e.weapon),eM(e.职业,e),eV(e),!0},eH=function(){W.push({name:"",showName:"",sub:!1,work:!1,defaultPoint:0,workPoint:0,interPoint:0,ensurePoint:0,levelup:!0,ensure:!1,self:!0}),$(W),ey(0,W.length-1)},eY=function(e,n){W[e].name=n,W[e].showName=n,$(W)};function ez(){return(0,i.jsx)(i.Fragment,{children:eI(W).map((e,n)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:s().griditem,onClick:W[e.index].sub?()=>ew(W[e.index].subList,e.index):()=>{},style:{backgroundColor:"rgba(250,150,10,"+((W[e.index].workPoint+W[e.index].defaultPoint+W[e.index].interPoint)/100).toString()+")"},children:(0,i.jsxs)("div",{className:s().skilltext,style:{color:W[e.index].sub&&!W[e.index].subName?"darkblue":"black"},children:[(0,i.jsx)("div",{style:{marginTop:"4px",marginLeft:"4px",marginRight:"4px",backgroundColor:"lightblue"},children:(0,i.jsx)(o.II,{defaultValue:W[e.index].name,onChange:n=>{eY(e.index,n)},placeholder:"输入名称",style:{"--text-align":"center","--placeholder-color":"gray"}})}),"(",W[e.index].defaultPoint,")[",W[e.index].defaultPoint+W[e.index].workPoint+W[e.index].interPoint,"]"]})},n+"1"),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{backgroundColor:"rgba(250,150,10,"+(W[e.index].workPoint/(100-W[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:s().skillinput,children:W[e.index].levelup&&W[e.index].work?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-W[e.index].defaultPoint-W[e.index].interPoint,value:W[e.index].workPoint,onChange:n=>eC(n,e.index)}):(0,i.jsx)(i.Fragment,{})})},n+"2"),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{backgroundColor:"rgba(250,150,10,"+(W[e.index].interPoint/(100-W[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:s().skillinput,children:W[e.index].levelup&&"信用评级"!==W[e.index].name?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-W[e.index].defaultPoint-W[e.index].workPoint,value:W[e.index].interPoint,onChange:n=>ey(n,e.index)}):(0,i.jsx)(i.Fragment,{})})},n+"3")]}))})}let eL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;var n=0;if(e<0)for(var l=0;l<W.length;l++)"信用评级"===W[l].name&&(n=W[l].defaultPoint+W[l].workPoint+W[l].ensurePoint);else n=e;var i="";i=0===n?"赤贫":n<10?"贫穷":n<50?"标准":n<90?"小康":n<99?"富裕":"豪富";let t=eu.getFieldValue("time");return em.setFieldsValue({CR:i,资产:"$"+a.Tw[t][i]["资产"]*n,现金:"$"+a.Tw[t][i]["现金"]*n,消费水平:"$"+a.Tw[t][i]["消费水平"]}),{CR:n,生活水平:i}},eE=function(){let e=[];if("本职"===B)for(let n=0;n<J.length;n++)J[n].index>=0&&e.push(J[n].index);else if("其他"===B)for(let n=0;n<W.length;n++)(a.h7[a.h7.length-1].sub.indexOf(W[n].name)>=0||W[n].self)&&e.push(n);else if("已点技能"===B)for(let n=0;n<W.length;n++)(W[n].interPoint>0||W[n].workPoint>0||0!=W[n].ensurePoint)&&e.push(n);else{var n=-1;for(let e=0;e<a.h7.length;e++)if(a.h7[e].name==B){n=e;break}if(n>=0){let l=a.h7[n];for(let n=0;n<W.length;n++)l.sub.indexOf(W[n].name)>=0&&e.push(n)}}return e},eR=(e,n)=>{W[e].ensurePoint=+n,$(W)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(o.vT,{options:function(){var e=a.yi;if(!ex.hero||!(ex.hero>0)||!ex.heroinfo.name)return e;for(var n=0;n<e.length;n++)for(var l=0;l<e[n].children.length;l++)a.DU[ex.heroinfo.name]["建议职业"].indexOf(e[n].children[l].label)>=0&&(e[n].children[l].label=e[n].children[l].label+"(英雄类型推荐)");return e}(),visible:O,onClose:()=>{A(!1)},onSelect:function(e){if(!(e.length<2)){ex.hero&&ex.hero>0&&ex.heroinfo.skill.indexOf("灵能觉醒")>-1&&a.h7.push({name:"灵能",sub:["遥视","占卜","灵媒","心灵感应","念动"]});for(var n=[],l=0;l<a.h7.length;l++){var i=a.h7[l];for(let e=0;e<i.sub.length;e++){var t=i.sub[e],s={name:a.I[t].name,sub:a.I[t].sub,subName:"",subList:a.I[t].sub_name,showName:a.I[t].name,work:!1,defaultPoint:a.I[t].default,workPoint:0,interPoint:0,ensurePoint:0,ensure:!1,levelup:a.I[t].levelup};n.push(s)}}var r=[],o=e[1],d=a.PK[o],h=d.skill;ex.hero&&ex.hero>0&&ex.heroinfo.skill.indexOf("灵能觉醒")>-1&&h.push({number:1,area:"list",list:[{name:"遥视"},{name:"占卜"},{name:"灵媒"},{name:"心灵感应"},{name:"念动"}]});for(var l=0;l<h.length;l++)if("name"in h[l]){let e=h[l];var u={index:-1};if(u.name=e.name,"sub_name"in e){u.sub_name=e.sub_name,u.showname=e.name+":"+e.sub_name;var m=c(n,u.name,"name");m<0&&console.log("意料之外的初始技能！",u.showname),n[m]={name:u.name,sub:!1,subName:u.sub_name,showName:u.showname,work:!0,defaultPoint:n[m].defaultPoint,workPoint:0,interPoint:0,ensurePoint:0,ensure:!1,levelup:n[m].levelup},u.index=m}else{u.showname=e.name;var j=x(n,u.showname,"showName");j<0&&console.log("意料之外的初始技能！",u.showname),n[j].work=!0,u.index=j}r.push(u)}else{let e=h[l];for(let l=0;l<e.number;l++){var u={index:-1};if("list"===e.area){for(let l=0;l<e.list.length;l++)if("sub_name"in e.list[l]){let i=e.list[l].name+":"+e.list[l].sub_name,t=function(e,n){for(var l=0;l<e.length;l++)if(!1===e[l].work&&e[l].name===n&&e[l].sub)return l;return -1}(n,e.list[l].name);n[t].subName=e.list[l].sub_name,n[t].showName=i,n[t].sub=!1}u.select_list=e.list}else u.select_list=[];r.push(u)}}Z(r),eO(o,n,ex),en(d["信用评级"]),es([0,0]),eu.setFieldValue("职业",o),eA(),A(!1),ex.hero&&ex.hero>0&&ex.heroinfo.name&&ea(0)}}}),(0,i.jsx)(o.vT,{options:a.Ci,visible:K,onClose:()=>{H(!1)},onSelect:function(e){if(2===e.length){var n=e[1],l=a.i3[n];eo.push(l),ed(eo),H(!1)}}}),(0,i.jsx)(o.cW,{columns:L,visible:Y,onClose:()=>{z(!1)},onConfirm:e=>{ek(e,"work")},destroyOnClose:!0}),(0,i.jsx)(o.cW,{columns:U,visible:R,onClose:()=>{T(!1)},onConfirm:e=>{ek(e,"sub")},destroyOnClose:!0}),(0,i.jsx)(o.cW,{columns:L,visible:Y,onClose:()=>{z(!1)},onConfirm:e=>{ek(e,"work")},destroyOnClose:!0}),(0,i.jsx)(o.cW,{columns:[M],visible:D,onClose:()=>{S(!1)},onConfirm:e=>{ep(e)},destroyOnClose:!0}),(0,i.jsx)(o.GI,{visible:_,onMaskClick:()=>{N(!1)},onClose:()=>{N(!1)},destroyOnClose:!0,children:(0,i.jsx)(function(){let e=eE();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.UO,{children:(0,i.jsx)(o.UO.Panel,{title:"技能成长",children:"技能成长一般发生在游戏过程中，成功使用技能后根据主持人裁定可以选择进行成长。"},"1")}),(0,i.jsx)("div",{children:(0,i.jsx)(o.rj,{columns:2,children:e.map(e=>(0,i.jsxs)(o.rj.Item,{className:s().upgriditem,children:[(0,i.jsxs)("div",{className:s().upgridtitle,children:[W[e].showName,"(",W[e].defaultPoint,")"]}),(0,i.jsx)(o.II,{type:"number",style:{backgroundColor:"lightgray",width:"48px"},defaultValue:W[e].ensurePoint>0?W[e].ensurePoint.toString():"",onChange:n=>{eR(e,n)}})]},e))})})]})},{})})]}),0===b?(0,i.jsxs)(o.mQ,{defaultActiveKey:"att-key",children:[ex.hero&&ex.hero>0?(0,i.jsx)(o.mQ.Tab,{title:"英雄属性",children:(0,i.jsxs)(o.l0,{form:ej,layout:"horizontal",children:[(0,i.jsx)(o.l0.Header,{children:"英雄级别(无法更改)"}),(0,i.jsx)(o.l0.Item,{name:"英雄级别",label:"英雄级别",help:"英雄程度越高，HP越多、英雄天赋越多，调查员就越强力",children:(0,i.jsx)(o.Y8.Group,{disabled:!0,children:(0,i.jsxs)(o.T,{direction:"vertical",children:[(0,i.jsx)(o.Y8,{value:"0",children:"❤️普通人类\uD83C\uDE32"}),(0,i.jsx)(o.Y8,{value:"1",children:"\uD83D\uDC95能力超群1️⃣"}),(0,i.jsx)(o.Y8,{value:"2",children:"\uD83D\uDC9E人类英雄2️⃣"}),(0,i.jsx)(o.Y8,{value:"3",children:"\uD83D\uDC9E高级英雄3️⃣"}),(0,i.jsx)(o.Y8,{value:"4",children:"\uD83D\uDC9E超级英雄4️⃣"})]})})}),(0,i.jsx)(o.l0.Header,{children:"英雄类型"}),(0,i.jsx)(o.l0.Item,{name:"英雄类型",label:"英雄类型",children:(0,i.jsx)(o.II,{placeholder:"请选择英雄类型",readOnly:!0,disabled:!0})}),(0,i.jsx)(o.l0.Header,{children:"英雄属性"}),(0,i.jsx)(o.l0.Item,{label:"类型说明",children:(0,i.jsx)(o.Kx,{readOnly:!0,disabled:!0,value:a.DU[ex.heroinfo.name]["描述"],autoSize:{minRows:3,maxRows:5}})}),(0,i.jsx)(o.l0.Item,{name:"核心属性",label:"核心属性",children:(0,i.jsx)(o.Y8.Group,{disabled:!0,children:(0,i.jsx)(o.T,{direction:"vertical",children:a.DU[ex.heroinfo.name]["核心属性"].map(e=>(0,i.jsx)(o.Y8,{value:e,children:e},e))})})}),(0,i.jsx)(o.l0.Item,{label:"建议职业",children:(0,i.jsx)(o.Kx,{disabled:!0,readOnly:!0,value:a.DU[ex.heroinfo.name]["建议职业"].join(","),autoSize:{minRows:3,maxRows:5}})}),(0,i.jsx)(o.l0.Item,{label:"建议特质",children:(0,i.jsx)(o.II,{disabled:!0,readOnly:!0,value:a.DU[ex.heroinfo.name]["建议特质"]})}),(0,i.jsx)(o.l0.Item,{name:"英雄天赋",label:"英雄天赋",children:(0,i.jsx)(o.Qf,{columns:1,options:function(){let e=ex.heroinfo.skill;for(var n=[],l=0;l<e.length;l++)n.push({label:e[l],description:a.A8[e[l]],value:e[l]});return n}(),multiple:!0,disabled:!0})})]})},"hero-key"):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(o.mQ.Tab,{title:"基础属性",children:(0,i.jsxs)(o.l0,{form:eh,layout:"horizontal",onValuesChange:function(e,n){if("sj"===n.att_style){if("att"in n&&n.att>=0&&y.length>0)for(var l=y[n.att],i=0;i<u.length;i++)eh.setFieldValue(u[i],l[i]);else for(var i=0;i<u.length;i++)eh.setFieldValue(u[i],0)}let t=eA();ex.职业&&eO(ex.职业,W,t)},initialValues:{att_style:"gd",...function(e){let n={};return n.力量=e.力量?e.力量:"",n.体型=e.体型?e.体型:"",n.体质=e.体质?e.体质:"",n.外貌=e.外貌?e.外貌:"",n.幸运=e.幸运?e.幸运:"",n.意志=e.意志?e.意志:"",n.敏捷=e.敏捷?e.敏捷:"",n.教育=e.教育?e.教育:"",n.智力=e.智力?e.智力:"",n}(ex.attribute)},children:[(0,i.jsx)(o.l0.Header,{children:"基本属性"}),(0,i.jsx)(o.l0.Item,{name:"att_style",label:"属性方式",children:(0,i.jsx)(o.Y8.Group,{onChange:function(e){k(e)},children:(0,i.jsxs)(o.T,{direction:"vertical",children:[(0,i.jsxs)(o.Y8,{value:"gd",children:["购点(",n,")"]}),(0,i.jsxs)(o.Y8,{value:"sj",children:["随机(",I,"次)"]})]})})}),"gd"==p?(0,i.jsx)(o.l0.Header,{children:(0,i.jsxs)("text",{style:{color:ex.attribute.体型+ex.attribute.体质+ex.attribute.力量+ex.attribute.外貌+ex.attribute.意志+ex.attribute.敏捷+ex.attribute.教育+ex.attribute.智力>n?"red":""},children:["属性点总值:",ex.attribute.体型+ex.attribute.体质+ex.attribute.力量+ex.attribute.外貌+ex.attribute.意志+ex.attribute.敏捷+ex.attribute.教育+ex.attribute.智力," / ",n]})}):(0,i.jsx)(o.l0.Header,{children:"请选择你想要的属性"}),(0,i.jsx)(o.l0.Item,{name:"att",label:"属性选择",hidden:"gd"===p,layout:"vertical",children:(0,i.jsx)(o.Y8.Group,{children:(0,i.jsx)(o.T,{direction:"vertical",children:y.map((e,n)=>(0,i.jsxs)(o.Y8,{value:n,children:["【属性总值：",e.reduce((e,n)=>e+n,0),"】",(0,i.jsx)("br",{}),"\uD83D\uDCAA力量",e[0]," ❤️体质",e[1]," \uD83D\uDC07敏捷",e[2]," \uD83C\uDF3C外貌",e[3],(0,i.jsx)("br",{}),"\uD83C\uDF1E意志",e[4]," \uD83D\uDC69‍\uD83D\uDC66体型",e[5]," \uD83C\uDF93教育",e[6]," \uD83E\uDDE0智力",e[7]]},n))})})}),u.map((e,n)=>(0,i.jsx)(o.l0.Item,{name:e,label:ex.hero&&e==ex.heroinfo.mainatt?e+"(核心)":e,rules:[{required:!0}],hidden:"gd"!==p,help:m[n],children:(0,i.jsx)(o.II,{type:"number",max:100,min:15,placeholder:"请输入"+e+"15-90"})},n)),"gd"===p?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(i.Fragment,{children:ex.hero&&ex.hero>0?ex.heroinfo.mainatt?(0,i.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",padding:"16px"},children:(0,i.jsxs)(o.zx,{color:"success",size:"large",style:{width:"90%"},onClick:eb,disabled:I<=0,children:["生成(剩余",I,"次)"]})}):(0,i.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",padding:"16px"},children:"请先选择英雄的核心属性"}):(0,i.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",padding:"16px"},children:(0,i.jsxs)(o.zx,{color:"success",size:"large",style:{width:"90%"},onClick:eb,disabled:I<=0,children:["生成(剩余",I,"次)"]})})}),(0,i.jsx)(o.l0.Header,{children:"衍生属性"}),(0,i.jsxs)(o.rj,{columns:3,style:{backgroundColor:"#FFFFFF"},children:[(0,i.jsx)(o.rj.Item,{className:s().exgriditem,children:(0,i.jsx)("div",{className:s().exgridone1,children:(0,i.jsxs)("div",{className:s().exgridone,children:[(0,i.jsx)("div",{className:s().title,children:"HP"}),(0,i.jsxs)("div",{className:s().text,children:[ex.attex.HP," / ",ex.attex.HP_MAX]})]})})}),(0,i.jsx)(o.rj.Item,{className:s().exgriditem,children:(0,i.jsx)("div",{className:s().exgridone1,children:(0,i.jsxs)("div",{className:s().exgridone,children:[(0,i.jsx)("div",{className:s().title,children:"MP"}),(0,i.jsxs)("div",{className:s().text,children:[ex.attex.MP," / ",ex.attex.MP_MAX]})]})})}),(0,i.jsx)(o.rj.Item,{className:s().exgriditem,children:(0,i.jsx)("div",{className:s().exgridone1,children:(0,i.jsxs)("div",{className:s().exgridone,children:[(0,i.jsx)("div",{className:s().title,children:"SAN"}),(0,i.jsxs)("div",{className:s().text,children:[ex.attex.SAN," / ",ex.attex.SAN_MAX]})]})})}),(0,i.jsx)(o.rj.Item,{className:s().exgriditem,children:(0,i.jsx)("div",{className:s().exgridone1,children:(0,i.jsxs)("div",{className:s().exgridone,children:[(0,i.jsx)("div",{className:s().title,children:"移动速度"}),(0,i.jsx)("div",{className:s().text,children:ex.attex.MOV})]})})}),(0,i.jsx)(o.rj.Item,{className:s().exgriditem,children:(0,i.jsx)("div",{className:s().exgridone1,children:(0,i.jsxs)("div",{className:s().exgridone,children:[(0,i.jsx)("div",{className:s().title,children:"伤害加值"}),(0,i.jsx)("div",{className:s().text,children:ex.attex.DB})]})})}),(0,i.jsx)(o.rj.Item,{className:s().exgriditem,children:(0,i.jsx)("div",{className:s().exgridone1,children:(0,i.jsxs)("div",{className:s().exgridone,children:[(0,i.jsx)("div",{className:s().title,children:"体格"}),(0,i.jsx)("div",{className:s().text,children:ex.attex.体格})]})})})]}),(0,i.jsx)(o.l0.Header,{children:"幸运"}),(0,i.jsx)(o.l0.Item,{label:"幸运",name:"幸运",rules:[{required:!0}],extra:(0,i.jsxs)(o.zx,{color:"success",onClick:function(){if(!(P<=0)){var e=5*h(3,6);eh.setFieldValue("幸运",e),w(P-1),eA()}},disabled:P<=0,children:["随机(剩余",P,"次)"]}),children:(0,i.jsx)(o.II,{placeholder:"请输入",readOnly:!0,value:ex.attribute.幸运.toString()})})]})},"att-key"),(0,i.jsx)(o.mQ.Tab,{title:"角色信息",children:(0,i.jsxs)(o.l0,{form:eu,layout:"horizontal",initialValues:{sex:"男",time:"1920s"},children:[(0,i.jsx)(o.l0.Header,{children:"角色信息"}),(0,i.jsx)(o.l0.Item,{name:"name",label:"姓名",rules:[{required:!0,message:"姓名不能为空"}],children:(0,i.jsx)(o.II,{placeholder:"请输入姓名"})}),(0,i.jsx)(o.l0.Item,{name:"sex",label:"性别",children:(0,i.jsxs)(o.Y8.Group,{children:[(0,i.jsx)(o.Y8,{value:"男",children:"男"}),(0,i.jsx)(o.Y8,{value:"女",children:"女"})]})}),(0,i.jsx)(o.l0.Item,{name:"age",label:"年龄",children:(0,i.jsx)(o.II,{placeholder:"年龄"})}),(0,i.jsx)(o.l0.Item,{name:"time",label:"时代",children:(0,i.jsxs)(o.Y8.Group,{children:[(0,i.jsx)(o.Y8,{value:"1920s",children:"1920s"}),(0,i.jsx)(o.Y8,{value:"现代",children:"现代"})]})}),(0,i.jsx)(o.l0.Item,{name:"wherelive",label:"住地",children:(0,i.jsx)(o.II,{placeholder:"住地"})}),(0,i.jsx)(o.l0.Item,{name:"whereborn",label:"故乡",children:(0,i.jsx)(o.II,{placeholder:"故乡"})}),(0,i.jsx)(o.l0.Item,{label:"职业",name:"职业",rules:[{required:!0,message:"职业必须选择"}],onClick:()=>A(!0),children:(0,i.jsx)(o.II,{placeholder:"请选择",readOnly:!0})}),ex.职业?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.l0.Header,{children:["职业信息-",ex.职业]}),(0,i.jsx)(o.l0.Item,{label:"信用评级范围",children:(0,i.jsx)(o.II,{readOnly:!0,value:"["+ee[0]+"—"+ee[1]+"]"})}),(0,i.jsx)(o.l0.Item,{label:"本职技能",layout:"horizontal",children:(0,i.jsx)(o.Kx,{readOnly:!0,value:a.PK[ex.职业].describe,autoSize:{minRows:3,maxRows:5}})}),(0,i.jsx)(o.l0.Item,{label:"本职技能点",children:(0,i.jsx)(o.II,{readOnly:!0,value:function(e){for(var n="",l=0;l<e.length;l++){let s=e[l];var i="";if(1===s.att.length)i=s.att[0];else for(var t=0;t<s.att.length;t++)0===i.length?i+=s.att[t]:i=i+"或"+s.att[t];n=0==n.length?n+i+"\xd7"+s.scale:n+"+"+i+"\xd7"+s.scale}return n}(a.PK[ex.职业].workPoints)})}),(0,i.jsx)(o.l0.Item,{label:"兴趣技能点",children:(0,i.jsx)(o.II,{readOnly:!0,value:"智力\xd72"})})]}):(0,i.jsx)(i.Fragment,{})]})},"info-key"),(0,i.jsx)(o.mQ.Tab,{title:"技能加点",children:(0,i.jsx)("div",{children:ex["职业"]?(0,i.jsxs)("div",{className:s().container,children:[(0,i.jsxs)(o.Ke,{activeKey:B,onChange:q,children:[a.h7.map(e=>(0,i.jsx)(o.Ke.Item,{title:e.name},e.name)),ex.hero&&ex.hero>0&&ex.heroinfo.name?(0,i.jsx)(o.Ke.Item,{title:"英雄奖励"},"英雄奖励"):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(o.Ke.Item,{title:"已点技能"},"已点技能")]}),(0,i.jsxs)("div",{style:{width:"100%"},children:[a.h7.map(e=>(0,i.jsx)("div",{hidden:B!=e.name,children:(0,i.jsxs)(o.rj,{columns:3,style:{backgroundColor:"#EEEFFF"},children:[(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:s().griditem,children:(0,i.jsxs)("div",{className:s().skilltitle,children:[(0,i.jsx)("div",{children:"技能名称"}),(0,i.jsx)("div",{children:"(初始)[最终]"})]})}),(0,i.jsx)(o.rj.Item,{className:s().griditem,children:(0,i.jsxs)("div",{className:s().skilltitle,style:{color:el[0]<et[0]?"red":"black"},children:[(0,i.jsx)("div",{children:"本职技能点"}),(0,i.jsxs)("div",{children:[et[0],"/",el[0]]})]})}),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{color:el[1]<et[1]?"red":"black"},children:(0,i.jsxs)("div",{className:s().skilltitle,children:[(0,i.jsx)("div",{children:"兴趣技能点"}),(0,i.jsxs)("div",{children:[et[1],"/",el[1]]})]})})]}),"本职"===e.name?null==J?void 0:J.map((e,n)=>e.index>=0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:s().griditem,onClick:"select_list"in e?()=>eP(e,n):W[e.index].sub?()=>ew(W[e.index].subList,e.index):()=>{},style:{color:"select_list"in e?"blue":W[e.index].sub&&!W[e.index].subName?"darkblue":"black",backgroundColor:"rgba(250,150,10,"+((W[e.index].workPoint+W[e.index].defaultPoint+W[e.index].interPoint)/100).toString()+")"},children:(0,i.jsxs)("div",{className:s().skilltext,children:[W[e.index].sub?W[e.index].name+":"+(W[e.index].subName?W[e.index].subName:"未选择"):W[e.index].showName,W[e.index].ensurePoint>0?"☘️"+W[e.index].ensurePoint:"",(0,i.jsx)("br",{}),"(",W[e.index].defaultPoint,")[",W[e.index].defaultPoint+W[e.index].workPoint+W[e.index].interPoint+W[e.index].ensurePoint,"]"]})},n+"1"),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{backgroundColor:"rgba(250,150,10,"+(W[e.index].workPoint/(100-W[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:s().skillinput,children:(0,i.jsx)(o.vF,{step:5,min:0,max:100-W[e.index].defaultPoint-W[e.index].interPoint,value:W[e.index].workPoint,onChange:n=>eC(n,e.index)})})},n+"2"),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{backgroundColor:"rgba(250,150,10,"+(W[e.index].interPoint/(100-W[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:s().skillinput,children:W[e.index].levelup&&"信用评级"!==W[e.index].name?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-W[e.index].defaultPoint-W[e.index].workPoint,value:W[e.index].interPoint,onChange:n=>ey(n,e.index)}):(0,i.jsx)(i.Fragment,{})})},n+"3")]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:s().griditem,onClick:()=>eP(e,n),children:(0,i.jsxs)("div",{style:{color:"red"},className:s().skilltext,children:["[点击选择]",(0,i.jsx)("br",{}),"(","0",")"]})},n+"3"),(0,i.jsx)(o.rj.Item,{className:s().griditem,children:(0,i.jsx)("div",{className:s().skillinput})},n+"4"),(0,i.jsx)(o.rj.Item,{className:s().griditem,children:(0,i.jsx)("div",{className:s().skillinput})},n+"5")]})):e_(W,e.sub).map((e,n)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:s().griditem,onClick:W[e.index].sub?()=>ew(W[e.index].subList,e.index):()=>{},style:{backgroundColor:"rgba(250,150,10,"+((W[e.index].workPoint+W[e.index].defaultPoint+W[e.index].interPoint)/100).toString()+")"},children:(0,i.jsxs)("div",{className:s().skilltext,style:{color:W[e.index].sub&&!W[e.index].subName?"darkblue":"black"},children:[W[e.index].sub?W[e.index].name+":"+(W[e.index].subName?W[e.index].subName:"未选择"):W[e.index].showName,W[e.index].ensurePoint>0?"☘️"+W[e.index].ensurePoint:"",(0,i.jsx)("br",{}),"(",W[e.index].defaultPoint,")[",W[e.index].defaultPoint+W[e.index].workPoint+W[e.index].interPoint+W[e.index].ensurePoint,"]"]})},n+"7"),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{backgroundColor:"rgba(250,150,10,"+(W[e.index].workPoint/(100-W[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:s().skillinput,children:W[e.index].levelup&&W[e.index].work?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-W[e.index].defaultPoint-W[e.index].interPoint,value:W[e.index].workPoint,onChange:n=>eC(n,e.index)}):(0,i.jsx)(i.Fragment,{})})},n+"8"),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{backgroundColor:"rgba(250,150,10,"+(W[e.index].interPoint/(100-W[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:s().skillinput,children:W[e.index].levelup&&"信用评级"!==W[e.index].name?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-W[e.index].defaultPoint-W[e.index].workPoint,value:W[e.index].interPoint,onChange:n=>ey(n,e.index)}):(0,i.jsx)(i.Fragment,{})})},n+"9")]})),"其他"===e.name?(0,i.jsx)(ez,{}):(0,i.jsx)(i.Fragment,{}),"其他"===e.name?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.rj.Item,{span:3,children:(0,i.jsx)(o.zx,{block:!0,color:"primary",onClick:()=>{eH()},children:"新建自定义技能"})})}):(0,i.jsx)(i.Fragment,{})]})},e.name)),ex.hero&&ex.hero>0&&ex.heroinfo.name?(0,i.jsx)("div",{hidden:"英雄奖励"!=B,children:(0,i.jsxs)(o.rj,{columns:2,style:{backgroundColor:"#EEEFFF"},children:[(0,i.jsx)(o.rj.Item,{className:s().griditem,children:(0,i.jsxs)("div",{className:s().skilltitle,children:[(0,i.jsx)("div",{children:"技能名称"}),(0,i.jsx)("div",{children:"(初始)[最终]"})]})}),(0,i.jsx)(o.rj.Item,{className:s().griditem,children:(0,i.jsxs)("div",{className:s().skilltitle,style:{color:100<er?"red":"black"},children:[(0,i.jsx)("div",{children:"奖励技能点"}),(0,i.jsxs)("div",{children:[er,"/100"]})]})}),eN(W).map((e,n)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:s().griditem,onClick:W[e.index].sub?()=>ew(W[e.index].subList,e.index):()=>{},style:{backgroundColor:"rgba(250,150,10,"+((W[e.index].workPoint+W[e.index].defaultPoint+W[e.index].interPoint)/100).toString()+")"},children:(0,i.jsxs)("div",{className:s().skilltext,style:{color:W[e.index].sub&&!W[e.index].subName?"darkblue":"black"},children:[W[e.index].sub?W[e.index].name+":"+(W[e.index].subName?W[e.index].subName:"未选择"):W[e.index].showName,W[e.index].ensurePoint>0?"☘️"+W[e.index].ensurePoint:"",(0,i.jsx)("br",{}),"(",W[e.index].defaultPoint,")[",W[e.index].defaultPoint+W[e.index].workPoint+W[e.index].interPoint+W[e.index].ensurePoint,"]"]})},n+"7"),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{backgroundColor:"rgba(250,150,10,"+(W[e.index].workPoint/(100-W[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:s().skillinput,children:(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100,value:W[e.index].ensurePoint,onChange:n=>eF(n,e.index)})})},n+"8")]}))]})},"英雄奖励"):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)("div",{hidden:"已点技能"!=B,children:(0,i.jsxs)(o.rj,{columns:3,style:{backgroundColor:"#EEEFFF"},children:[(0,i.jsx)(o.rj.Item,{className:s().griditem,children:(0,i.jsxs)("div",{className:s().skilltitle,children:[(0,i.jsx)("div",{children:"技能名称"}),(0,i.jsx)("div",{children:"(初始)[最终]"})]})}),(0,i.jsx)(o.rj.Item,{className:s().griditem,children:(0,i.jsxs)("div",{className:s().skilltitle,style:{color:el[0]<et[0]?"red":"black"},children:[(0,i.jsx)("div",{children:"本职技能点"}),(0,i.jsxs)("div",{children:[et[0],"/",el[0]]})]})}),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{color:el[1]<et[1]?"red":"black"},children:(0,i.jsxs)("div",{className:s().skilltitle,children:[(0,i.jsx)("div",{children:"兴趣技能点"}),(0,i.jsxs)("div",{children:[et[1],"/",el[1]]})]})}),(function(e){for(var n=[],l=0;l<e.length;l++)(0!=e[l].interPoint||0!=e[l].workPoint||0!=e[l].ensurePoint)&&n.push({skillInfo:e[l],index:l});return n})(W).map((e,n)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.rj.Item,{className:s().griditem,onClick:W[e.index].sub?()=>ew(W[e.index].subList,e.index):()=>{},style:{backgroundColor:"rgba(250,150,10,"+((W[e.index].workPoint+W[e.index].defaultPoint+W[e.index].interPoint)/100).toString()+")"},children:(0,i.jsxs)("div",{className:s().skilltext,style:{color:W[e.index].sub&&!W[e.index].subName?"darkblue":"black"},children:[W[e.index].sub?W[e.index].name+":"+(W[e.index].subName?W[e.index].subName:"未选择"):W[e.index].showName,W[e.index].ensurePoint>0?"☘️"+W[e.index].ensurePoint:"",(0,i.jsx)("br",{}),"(",W[e.index].defaultPoint,")[",W[e.index].defaultPoint+W[e.index].workPoint+W[e.index].interPoint+W[e.index].ensurePoint,"]"]})},n+"7"),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{backgroundColor:"rgba(250,150,10,"+(W[e.index].workPoint/(100-W[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:s().skillinput,children:W[e.index].levelup&&W[e.index].work?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-W[e.index].defaultPoint-W[e.index].interPoint,value:W[e.index].workPoint,onChange:n=>eC(n,e.index)}):(0,i.jsx)(i.Fragment,{})})},n+"8"),(0,i.jsx)(o.rj.Item,{className:s().griditem,style:{backgroundColor:"rgba(250,150,10,"+(W[e.index].interPoint/(100-W[e.index].defaultPoint)).toString()+")"},children:(0,i.jsx)("div",{className:s().skillinput,children:W[e.index].levelup&&"信用评级"!==W[e.index].name?(0,i.jsx)(o.vF,{step:5,defaultValue:0,min:0,max:100-W[e.index].defaultPoint-W[e.index].workPoint,value:W[e.index].interPoint,onChange:n=>ey(n,e.index)}):(0,i.jsx)(i.Fragment,{})})},n+"9")]}))]})},"已点技能"),(0,i.jsx)("div",{style:{position:"fixed",bottom:"10px",right:"10px"},children:(0,i.jsx)(o.zx,{block:!0,color:"success",onClick:()=>N(!0),children:"技能成长"})})]})]}):(0,i.jsx)("div",{className:s().skillcant,hidden:""===ex["职业"],children:" 请先确定职业！ "})})},"skill-key"),(0,i.jsx)(o.mQ.Tab,{title:"背景故事",children:(0,i.jsxs)(o.l0,{layout:"horizontal",form:em,children:[(0,i.jsx)(o.l0.Header,{children:"背景故事"}),(0,i.jsx)(o.l0.Item,{name:"个人介绍",label:"个人介绍",help:"个人介绍",children:(0,i.jsx)(o.Kx,{placeholder:"介绍一下角色的过去，与他人的关系，以丰满角色的形象；介绍一下擅长或不擅长的事情——技能属性不同寻常的地方，是你的兴趣爱好，还是先天导致的残疾？",maxLength:1e3,rows:8,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"形象描述",label:"形象描述",help:"英俊 迷人 邋遢 引人瞩目 疲倦 笨拙 娃娃脸 迟钝 书卷气 胖乎乎 毛发旺盛 优雅 脸色苍白 乐观 古板 强壮 衣着破旧 阴沉 晒黑 羞怯 苗条 矮壮 平凡 皱纹 机智 娇美 魁梧 笨拙 肌肉发达 虚弱",children:(0,i.jsx)(o.Kx,{placeholder:"一段简短的个人形象穿着的描述",maxLength:500,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"思想信念",label:"思想信念",help:"1. 你崇拜一位大能，会向其献上祈祷（如毗湿奴、耶稣、海尔\xb7塞拉西一世）2. 没有宗教，人们一样能过的很好（如坚定的无神论者、人文主义者、世俗论者）3. 科学终将解释一切。选择一个感兴趣的领域（如进化论、低温学、空间探索）4. 相信命运（如因果报应、社会阶级、迷信）5. 协会或秘密结社的一员（如共济会、妇女协会、匿名者）6. 社会上的罪恶应该被根除。这里罪恶是指什么？（如毒品、暴力、种族偏见）7. 神秘学（如占星术、唯心论、塔罗牌）8. 政治（如保守派、社会主义者、自由主义者）9. “金钱就是力量，我会尽我所能。”（如贪婪、进取、无情）10. 活动家/积极分子（如女权主义、权利平等、工会权力）",children:(0,i.jsx)(o.Kx,{placeholder:"信奉的神祗，某些思想，某些理念",maxLength:500,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"重要之人",label:"重要之人",help:"1. 父母（如母亲、父亲、继母）2. 祖父母（如外祖母、祖父）3. 兄弟姐妹（如兄弟、异母或异父兄弟、继姐妹）4. 子女（儿子或女儿）5. 伴侣（如配偶、未婚夫、恋人）6. 教授你最高本职技能的人。确定技能并考虑那人是谁（如学校老师、收你当学徒的人、你的父亲）7. 儿时的朋友（如同学、邻居、想象出来的朋友）8. 一位名人。你将其视作偶像或英雄，而你们可能从未见过（如影星、政客、音乐家）9. 游戏中的调查员同伴。选择一个或随机指定。10. 游戏中的非玩家角色（NPC）。询问守秘人，让他为你选择一个。1. 你感激他们。他们是如何帮助你的？（如经济上的帮助、在困难时期保护你、帮你找到第一份工作）2. 他们教会了你一些东西。是什么？（如某项技能、如何去爱、如何做人）3. 他们赋予你生命的意义。是什么？（如你渴望成为他们那样的人、你追求和他们一起、你希望让他们快乐）4. 你亏欠他们，想要寻求谅解。你做了什么？（如你偷了他们的钱、你向警察告发了他们、在他们最绝望时你拒绝提供帮助）5. 你们有着共同的经历。是什么？（如你们一起度过了艰难岁月、一同长大、一起在战争中服役）6. 你希望向他们证明自己。怎么做？（如得到一份好工作、找到自己的好伴侣、接受更好的教育）7. 你崇拜他们（如他们的名声、美貌、工作）8. 你感到后悔（如你本应死在他们的位置上、你出于某种原因而与他们闹翻、你本有机会帮助他们）9. 你想证明自己比他们更好。他们的缺点是什么？（如懒惰、酗酒、缺乏爱心）10. 他们曾迫害过你，你想要报复。你因何责怪他们？（如爱人的死亡、破产、婚姻破裂）",children:(0,i.jsx)(o.Kx,{placeholder:"家人，爱人，朋友，或是敌人",maxLength:500,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"意义非凡之地",label:"意义非凡之地",help:"1. 你学习的地方（如学校、大学）2. 你的故乡（如农村、集镇、繁华的大城市）3. 你邂逅初恋的地方（如音乐会、度假地、防空洞）4. 供你静思的地方（如图书馆、属于你的乡间步道、钓场）5. 社交场所（ 如上流俱乐部、当地酒吧、叔叔家的宅子）6. 和你的思想与信念有关的地方（如城区教堂、麦加、巨石阵）7. 重要之人的坟墓。那是谁？（如父母、子女、恋人）8. 你的家（如乡间庄园、出租公寓、收养你长大的孤儿院）9. 你一生中最幸福的时候所在的地方（如初吻时的公园长椅、你的大学）10. 你的工作场所（如办公室、图书馆、银行）",children:(0,i.jsx)(o.Kx,{placeholder:"人生的转折点，还是与重要之人的约定之地",maxLength:500,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"宝贵之物",label:"宝贵之物",help:"1. 与你最高的技能有关的物品（如昂贵的西装、假身份证明、铜指虎）2. 职业的必备物品（如医疗箱、汽车、开锁工具）3. 儿时的纪念品（如漫画、小折叠刀、幸运币）4. 逝者的遗物（如珠宝、钱包里的照片、信件）5. 重要之人送你的东西（如戒指、日记、地图）6. 你的收藏品。它是什么？（如车票、毛绒玩具、唱片）7. 你找到的一些东西，但你并不知道它是什么。你试图寻找答案（如：在橱子里发现的以未知语言写成的信，在父亲的遗物中找到的来路不明的古怪烟斗，在你的花园里挖到的古怪银球）8. 一件体育用品（如板球拍、签名球棒、钓竿）9. 一件武器（如配发的左轮手枪、你的旧猎枪、藏在靴子里的刀）10. 一只宠物（如狗、猫、龟）",children:(0,i.jsx)(o.Kx,{placeholder:"听说你有一个带翼猎犬护身符？",maxLength:500,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"特质",label:"特质",help:"1. 慷慨大方（如付小费时毫不吝啬、常向需要帮助的人伸出援手、乐善好施）2. 动物之友（如爱猫、在农场长大、爱马）3. 梦想家（如热爱幻想、富有远见、充满创造力）4. 享乐主义（如派对至上、嗜酒如命、“人生苦短，及时行乐”）5. 赌徒、敢于冒险（如扑克脸、勇于尝试、过着惊险的日子）6. 料理能手（如烤得一手好蛋糕、能为无米之炊、味觉盛宴）7. 万人迷（如温文尔雅、嗓音动听、迷人双眸）8. 义薄云天（如朋友的坚实后盾、一诺千金、愿为信念赴死）9. 名声在外（如国内最健谈的餐后演讲者、虔诚信徒、无所畏惧）10. 野心勃勃（如实现某一目的、成为老板、拥有一切）",children:(0,i.jsx)(o.Kx,{placeholder:"是阴险狡诈的小人，还是热爱冒险的英雄",maxLength:500,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"精神状况",label:"精神状况",help:"精神状况",children:(0,i.jsx)(o.Kx,{placeholder:"如有精神异常，请出具医生开的诊断证明",maxLength:500,rows:3,showCount:!0})})]})},"story-key"),(0,i.jsxs)(o.mQ.Tab,{title:"经历",children:[(0,i.jsxs)(o.l0,{layout:"horizontal",form:em,children:[(0,i.jsx)(o.l0.Header,{children:"武器"}),(0,i.jsx)(o.l0.Item,{label:"武器",help:"随身携带的武器，请综合考虑年代背景和职业是否有合理理由携带此武器。可以重命名一下武器名字，名字中间没有空格的话可以直接.r名称进行骰伤害。",layout:"vertical",children:(0,i.jsxs)("div",{className:s().weaponCon,children:[eo.map((e,n)=>(0,i.jsxs)("div",{className:s().weaponOne,children:[(0,i.jsxs)("div",{className:s().weaponDel,children:[(0,i.jsx)(o.zx,{size:"mini",color:"danger",onClick:()=>{ev(n)},children:"删除"})," "]}),(0,i.jsx)(o.II,{className:s().weaponName,onChange:e=>eD(e,n),defaultValue:eo[n]["名称"]}),(0,i.jsxs)("div",{className:s().weaponValue,children:[e["伤害"],",",e["贯穿"]?"贯穿":"非贯穿"]})]},n)),(0,i.jsx)("div",{className:s().weaponOne,children:(0,i.jsx)(o.zx,{block:!0,color:"primary",size:"large",onClick:()=>{H(!0)},children:"新增"})})]})}),(0,i.jsx)(o.l0.Header,{children:"物品与装备"}),(0,i.jsx)(o.l0.Item,{name:"item",label:"物品与装备",help:"随身携带的物品，请考虑该物品是否会随身携带",children:(0,i.jsx)(o.Kx,{placeholder:"随身携带的物品，普通人不会随身携带C4哦~",maxLength:1e3,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Header,{children:"经济状况"}),(0,i.jsx)(o.l0.Item,{name:"CR",label:"生活水平",help:"角色的生活水平，由信用等级决定，若KP无特别说明，无需改动",children:(0,i.jsx)(o.II,{})}),(0,i.jsx)(o.l0.Item,{name:"现金",label:"现金",help:"角色持有的现金，由信用等级决定，若KP无特别说明，无需改动",children:(0,i.jsx)(o.II,{})}),(0,i.jsx)(o.l0.Item,{name:"资产",label:"资产",help:"角色的资产状况，由信用等级决定，若KP无特别说明，无需改动",children:(0,i.jsx)(o.II,{})}),(0,i.jsx)(o.l0.Item,{name:"消费水平",label:"消费水平",help:"每日消费水准，由信用等级决定，若KP无特别说明，无需改动",children:(0,i.jsx)(o.II,{})}),(0,i.jsx)(o.l0.Header,{children:"经历"}),(0,i.jsx)(o.l0.Item,{name:"调查员伙伴",label:"调查员伙伴",help:"你的调查员伙伴们",children:(0,i.jsx)(o.Kx,{placeholder:"你的调查员伙伴们",maxLength:1e3,rows:3,showCount:!0})}),ex.hero&&ex.hero>0&&ex.heroinfo.skill.indexOf("动物朋友")>-1?(0,i.jsx)(o.l0.Item,{name:"宠物伙伴",label:"宠物伙伴",help:"宠物伙伴",children:(0,i.jsx)(o.Kx,{placeholder:"【动物朋友天赋】你有一只可靠的动物伙伴，，比如猫、狗、鹦鹉",maxLength:1e3,rows:3,showCount:!0})}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(o.l0.Header,{children:"克苏鲁神话"}),(0,i.jsx)(o.l0.Item,{name:"魔法物品与典籍",label:"魔法物品与典籍",help:ex.hero&&ex.hero>0&&ex.heroinfo.skill.indexOf("奇妙道具")>-1?"你的奇妙道具天赋允许你自带一个奇妙道具，例如：自动撬锁器、声音模仿器、鬼魂侦测器、死亡射线枪、翻译耳机、便携电话机、大脑增强器、喷气背包、旧印弹等":"拥有的魔法物品与典籍，一般人没有",children:(0,i.jsx)(o.Kx,{placeholder:ex.hero&&ex.hero>0&&ex.heroinfo.skill.indexOf("奇妙道具")>-1?"你的奇妙道具天赋允许你自带一个奇妙道具，例如：自动撬锁器、声音模仿器、鬼魂侦测器、死亡射线枪、翻译耳机、便携电话机、大脑增强器、喷气背包、旧印弹等":"拥有的魔法物品与典籍",maxLength:1e3,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"法术",label:"法术",help:"掌握的法术，正常人一般不会学到法术",children:(0,i.jsx)(o.Kx,{placeholder:"学到过的法术",maxLength:1e3,rows:3,showCount:!0})}),(0,i.jsx)(o.l0.Item,{name:"第三类接触",label:"第三类接触",help:"第三类接触，一般人不会接触",children:(0,i.jsx)(o.Kx,{placeholder:"有哪些非自然、不同寻常的接触",maxLength:1e3,rows:3,showCount:!0})})]}),(0,i.jsx)(o.zx,{block:!0,color:"success",size:"large",onClick:function(){let e=eA(),n=ef(e);"ok"!==n?o.FN.show({content:n}):g(e)},children:"创建角色卡"})]},"item-key")]}):(0,i.jsxs)(o.l0,{form:ej,layout:"horizontal",onValuesChange:function(e,n){eA()},initialValues:{英雄级别:""+b},children:[(0,i.jsx)(o.l0.Header,{children:"英雄级别(提交后无法更改)"}),(0,i.jsx)(o.l0.Item,{name:"英雄级别",label:"英雄级别",help:"英雄程度越高，HP越多、英雄天赋越多，调查员就越强力",children:(0,i.jsx)(o.Y8.Group,{onChange:function(e){ej.setFieldValue("英雄类型",""),ej.setFieldValue("核心属性",""),ej.setFieldValue("英雄天赋",""),eA()},disabled:b>0,children:(0,i.jsxs)(o.T,{direction:"vertical",children:[(0,i.jsx)(o.Y8,{value:"0",children:"❤️普通人类\uD83C\uDE32"}),(0,i.jsx)(o.Y8,{value:"1",children:"\uD83D\uDC95能力超群1️⃣"}),(0,i.jsx)(o.Y8,{value:"2",children:"\uD83D\uDC9E人类英雄2️⃣"}),(0,i.jsx)(o.Y8,{value:"3",children:"\uD83D\uDC9E高级英雄3️⃣"}),(0,i.jsx)(o.Y8,{value:"4",children:"\uD83D\uDC9E超级英雄4️⃣"})]})})}),ex.hero&&ex.hero>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.l0.Header,{children:"英雄类型"}),(0,i.jsx)(o.l0.Item,{name:"英雄类型",label:"英雄类型",onClick:()=>S(!0),children:(0,i.jsx)(o.II,{placeholder:"请选择英雄类型",readOnly:!0})}),ex.heroinfo.name?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.l0.Header,{children:"英雄属性"}),(0,i.jsx)(o.l0.Item,{label:"类型说明",children:(0,i.jsx)(o.Kx,{readOnly:!0,value:a.DU[ex.heroinfo.name]["描述"],autoSize:{minRows:3,maxRows:5}})}),(0,i.jsx)(o.l0.Item,{name:"核心属性",label:"核心属性",children:(0,i.jsx)(o.Y8.Group,{children:(0,i.jsx)(o.T,{direction:"vertical",children:a.DU[ex.heroinfo.name]["核心属性"].map(e=>(0,i.jsx)(o.Y8,{value:e,children:e},e))})})}),(0,i.jsx)(o.l0.Item,{label:"建议职业",children:(0,i.jsx)(o.Kx,{readOnly:!0,value:a.DU[ex.heroinfo.name]["建议职业"].join(","),autoSize:{minRows:3,maxRows:5}})}),(0,i.jsx)(o.l0.Item,{label:"建议特质",children:(0,i.jsx)(o.II,{readOnly:!0,value:a.DU[ex.heroinfo.name]["建议特质"]})})]}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(o.l0.Header,{children:"英雄天赋"}),(0,i.jsx)(o.l0.Item,{name:"英雄天赋",label:"选择"+ex.hero+"项天赋，已选择"+ex.heroinfo.skill.length+"项",layout:"vertical",children:(0,i.jsx)(o.Qf,{columns:2,options:function(){for(var e=[],n=a.vm["肉体天赋"],l=0;l<n.length;l++){var i=n[l];e.push({label:"[肉体]"+i,description:a.A8[i],value:i})}for(var n=a.vm["精神天赋"],l=0;l<n.length;l++){var i=n[l];e.push({label:"[精神]"+i,description:a.A8[i],value:i})}for(var n=a.vm["战斗天赋"],l=0;l<n.length;l++){var i=n[l];e.push({label:"[战斗]"+i,description:a.A8[i],value:i})}for(var n=a.vm["其他天赋"],l=0;l<n.length;l++){var i=n[l];e.push({label:"[其他]"+i,description:a.A8[i],value:i})}return e}(),multiple:!0})})]}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(o.zx,{block:!0,color:"success",size:"large",onClick:function(){let e=ej.getFieldsValue(!0),n=e.英雄天赋;0!=+e.英雄级别?n&&n.length==+e.英雄级别?e.英雄类型?e.核心属性?(v(0),eA()):o.FN.show({content:"请选择英雄核心属性"}):o.FN.show({content:"请选择英雄类型"}):o.FN.show({content:"请选择对应数量的天赋！"}):(v(0),eA())},children:"下一步"})]})]})}},20345:function(e){e.exports={container:"page_container__aoG4z",skillmain:"page_skillmain__2gGSS",skillCount:"page_skillCount__d3dGo",skilltitle:"page_skilltitle__MInEO",skilltext:"page_skilltext__dNpfI",skillinput:"page_skillinput__IUObB",skillcant:"page_skillcant__YLN_D",griditem:"page_griditem__MsO6D",weaponCon:"page_weaponCon__6KH_n",weaponOne:"page_weaponOne__IFJGv",weaponDel:"page_weaponDel__XreDW",weaponName:"page_weaponName__Auhs5",weaponValue:"page_weaponValue__5Og0V",cardbg:"page_cardbg__G0kBY",onecard:"page_onecard__vdAOZ",cardLeft:"page_cardLeft__BtU5l",cardRight:"page_cardRight__xEbNp",mainbg:"page_mainbg__pVVV9",mainbg2:"page_mainbg2__DprXa",cardbg2:"page_cardbg2___uUq4",newtemtext:"page_newtemtext__aMkh3",exgriditem:"page_exgriditem__qF__h",exgridone1:"page_exgridone1__3fwCE",exgridone:"page_exgridone__wz30M",title:"page_title__3jonF",text:"page_text__LcLL2",upgriditem:"page_upgriditem__ezWdi",upgridtitle:"page_upgridtitle__cU137",main:"page_main__GlU4n",description:"page_description__86bsR",code:"page_code__9lUUd",grid:"page_grid__f5Kdy",card:"page_card__QV0Om",center:"page_center__5oHG7",logo:"page_logo__7fc9l",content:"page_content__kDoxQ",vercelLogo:"page_vercelLogo__rOY_u",rotate:"page_rotate__durgN"}}}]);